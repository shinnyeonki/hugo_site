<!DOCTYPE html>

<html lang="ko-KR"><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    
    
    
    
    <title>android 이벤트 처리 코드 분리 | My Test Site</title>
    

    
    
    <meta name="description" content="네, 말씀하신 내용이 바로 &lsquo;관심사의 분리(Separation of Concerns)&rsquo; 원칙을 UI 계층에 적용하는 아주 훌륭한 접근 방식입니다. Activity/Fragment는 오케스트라의 지휘자처럼 어떤 뷰와 어떤 로직 핸들러 …">

    
    
    <meta name="robots" content="index, follow">
    

    
    <link rel="canonical" href="http://localhost:1313/android-%EC%9D%B4%EB%B2%A4%ED%8A%B8-%EC%B2%98%EB%A6%AC-%EC%BD%94%EB%93%9C-%EB%B6%84%EB%A6%AC/">

    
    
    
    <meta property="og:title" content="android 이벤트 처리 코드 분리">
    <meta property="og:description" content="네, 말씀하신 내용이 바로 &lsquo;관심사의 분리(Separation of Concerns)&rsquo; 원칙을 UI 계층에 적용하는 아주 훌륭한 접근 방식입니다. Activity/Fragment는 오케스트라의 지휘자처럼 어떤 뷰와 어떤 로직 핸들러 …">
    <meta property="og:url" content="http://localhost:1313/android-%EC%9D%B4%EB%B2%A4%ED%8A%B8-%EC%B2%98%EB%A6%AC-%EC%BD%94%EB%93%9C-%EB%B6%84%EB%A6%AC/">
    <meta property="og:site_name" content="My Test Site">
    
    <meta property="og:type" content="blog">
    

    
    
    

    
    
    
    <meta name="twitter:card" content="summary_large_image">
    
    <meta name="twitter:title" content="android 이벤트 처리 코드 분리">
    <meta name="twitter:description" content="네, 말씀하신 내용이 바로 &lsquo;관심사의 분리(Separation of Concerns)&rsquo; 원칙을 UI 계층에 적용하는 아주 훌륭한 접근 방식입니다. Activity/Fragment는 오케스트라의 지휘자처럼 어떤 뷰와 어떤 로직 핸들러 …">
    

    
    
    

    
    <script src="https://cdn.tailwindcss.com?plugins=typography"></script>

</head><body>
    
     
    <header class="site-header">
        <div class="site-title">
            <a href="http://localhost:1313/">My Test Site</a>
        </div>
    </header>
    
    <nav class="site-nav">
        <ul>
            
        </ul>
    </nav>
    
    <main>
        
        
<article class="prose prose-sm lg:prose-base max-w-3xl mx-auto dk:prose-stone">
    <h1>android 이벤트 처리 코드 분리 **page.html**</h1>
    <p>네, 말씀하신 내용이 바로 <strong>&lsquo;관심사의 분리(Separation of Concerns)&rsquo;</strong> 원칙을 UI 계층에 적용하는 아주 훌륭한 접근 방식입니다. Activity/Fragment는 오케스트라의 지휘자처럼 어떤 뷰와 어떤 로직 핸들러(ViewModel)를 연결할지 &lsquo;조율&rsquo;만 하고, 실제 이벤트 처리 로직은 모두 ViewModel에, UI 내부의 세부 이벤트 감지는 커스텀 뷰 자체에 위임하는 구조입니다.</p>
<p>이 목표를 달성하기 위한 가장 이상적이고 현대적인 방법을 단계별로 설명해 드리겠습니다.</p>
<p><strong>핵심 전략: Custom View + Callback Interface + ViewModel</strong></p>
<ol>
<li><strong>Custom View</strong>: 내부에 포함된 여러 위젯(ImageView, TextView 등)의 이벤트를 감지합니다.</li>
<li><strong>Callback Interface</strong>: Custom View에서 발생한 이벤트를 외부로 알리기 위한 &lsquo;약속(Contract)&lsquo;입니다. &ldquo;프로필 이미지가 눌렸다&rdquo;, &ldquo;팔로우 버튼이 눌렸다&rdquo; 와 같은 의미 있는(semantic) 이벤트로 추상화합니다.</li>
<li><strong>ViewModel</strong>: Callback Interface를 구현하여 실제 비즈니스 로직을 처리합니다.</li>
<li><strong>Activity/Fragment</strong>: Custom View와 ViewModel을 연결(setup)하는 역할만 담당합니다.</li>
</ol>
<hr>
<h3 id="단계별-구현-방법">단계별 구현 방법</h3>
<p>간단한 &lsquo;프로필 뷰&rsquo;를 예시로 들어보겠습니다. 이 뷰는 프로필 이미지와 팔로우 버튼으로 구성됩니다.</p>
<h4 id="step-1-이벤트-콜백-인터페이스-정의-계약서-작성">Step 1: 이벤트 콜백 인터페이스 정의 (계약서 작성)</h4>
<p>어떤 이벤트가 발생할 수 있는지 명확하게 정의하는 인터페이스를 만듭니다.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-kotlin" data-lang="kotlin"><span style="display:flex;"><span><span style="color:#75715e">// ProfileViewEvents.kt
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">interface</span> <span style="color:#a6e22e">ProfileViewEvents</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">fun</span> <span style="color:#a6e22e">onProfileImageClicked</span>(userId: String)
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">fun</span> <span style="color:#a6e22e">onFollowButtonClicked</span>(userId: String)
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><ul>
<li><code>onClick</code> 같은 일반적인 이름 대신 <code>onProfileImageClicked</code> 처럼 의미를 담아 정의하는 것이 중요합니다.</li>
</ul>
<h4 id="step-2-커스텀-뷰custom-view-제작">Step 2: 커스텀 뷰(Custom View) 제작</h4>
<p>이 뷰는 내부의 클릭 이벤트를 감지하고, 외부로 약속된 인터페이스(ProfileViewEvents)를 통해 이벤트를 전달하는 역할만 합니다.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#75715e">&lt;!-- view_profile.xml (커스텀 뷰의 레이아웃) --&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;merge</span> <span style="color:#a6e22e">xmlns:android=</span><span style="color:#e6db74">&#34;http://schemas.android.com/apk/res/android&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">xmlns:app=</span><span style="color:#e6db74">&#34;http://schemas.android.com/apk/res-auto&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">xmlns:tools=</span><span style="color:#e6db74">&#34;http://schemas.android.com/tools&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">android:layout_width=</span><span style="color:#e6db74">&#34;match_parent&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">android:layout_height=</span><span style="color:#e6db74">&#34;wrap_content&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">tools:parentTag=</span><span style="color:#e6db74">&#34;androidx.constraintlayout.widget.ConstraintLayout&#34;</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;ImageView</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:id=</span><span style="color:#e6db74">&#34;@+id/profile_image&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:layout_width=</span><span style="color:#e6db74">&#34;80dp&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:layout_height=</span><span style="color:#e6db74">&#34;80dp&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">app:layout_constraintStart_toStartOf=</span><span style="color:#e6db74">&#34;parent&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">app:layout_constraintTop_toTopOf=</span><span style="color:#e6db74">&#34;parent&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">tools:src=</span><span style="color:#e6db74">&#34;@tools:sample/avatars&#34;</span> <span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;Button</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:id=</span><span style="color:#e6db74">&#34;@+id/follow_button&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:layout_width=</span><span style="color:#e6db74">&#34;wrap_content&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:layout_height=</span><span style="color:#e6db74">&#34;wrap_content&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:text=</span><span style="color:#e6db74">&#34;Follow&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">app:layout_constraintEnd_toEndOf=</span><span style="color:#e6db74">&#34;parent&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">app:layout_constraintTop_toTopOf=</span><span style="color:#e6db74">&#34;parent&#34;</span> <span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;/merge&gt;</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-kotlin" data-lang="kotlin"><span style="display:flex;"><span><span style="color:#75715e">// ProfileView.kt (커스텀 뷰 클래스)
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">ProfileView</span> <span style="color:#a6e22e">@JvmOverloads</span> <span style="color:#66d9ef">constructor</span>(
</span></span><span style="display:flex;"><span>    context: Context,
</span></span><span style="display:flex;"><span>    attrs: AttributeSet? = <span style="color:#66d9ef">null</span>,
</span></span><span style="display:flex;"><span>    defStyleAttr: Int = <span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span>) : ConstraintLayout(context, attrs, defStyleAttr) {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">val</span> binding: ViewProfileBinding
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">var</span> eventListener: ProfileViewEvents? = <span style="color:#66d9ef">null</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">var</span> userId: String = <span style="color:#e6db74">&#34;default_user&#34;</span> <span style="color:#75715e">// 예시 데이터
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">init</span> {
</span></span><span style="display:flex;"><span>        binding = <span style="color:#a6e22e">ViewProfileBinding</span>.inflate(<span style="color:#a6e22e">LayoutInflater</span>.from(context), <span style="color:#66d9ef">this</span>, <span style="color:#66d9ef">true</span>)
</span></span><span style="display:flex;"><span>        setupInternalClicks()
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// 뷰 내의 세부적인 클릭 리스너 설정
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">fun</span> <span style="color:#a6e22e">setupInternalClicks</span>() {
</span></span><span style="display:flex;"><span>        binding.profileImage.setOnClickListener {
</span></span><span style="display:flex;"><span>            <span style="color:#75715e">// 외부로 약속된 이벤트를 호출
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>            eventListener<span style="color:#f92672">?.</span>onProfileImageClicked(userId)
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        binding.followButton.setOnClickListener {
</span></span><span style="display:flex;"><span>            <span style="color:#75715e">// 외부로 약속된 이벤트를 호출
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>            eventListener<span style="color:#f92672">?.</span>onFollowButtonClicked(userId)
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// 데이터를 설정하는 함수
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">fun</span> <span style="color:#a6e22e">setProfileData</span>(user: User) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">this</span>.userId = user.id
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// Glide, Coil 등으로 이미지 로드
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#75715e">// binding.userName.text = user.name
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// 외부에서 이벤트 핸들러(ViewModel)를 주입받는 통로
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">fun</span> <span style="color:#a6e22e">setEventListener</span>(listener: ProfileViewEvents) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">this</span>.eventListener = listener
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h4 id="step-3-viewmodel에서-이벤트-핸들러-구현">Step 3: ViewModel에서 이벤트 핸들러 구현</h4>
<p>ViewModel은 View가 무슨 모양인지 전혀 몰라도 됩니다. 오직 <code>ProfileViewEvents</code>라는 약속만 보고 로직을 구현합니다.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-kotlin" data-lang="kotlin"><span style="display:flex;"><span><span style="color:#75715e">// ProfileViewModel.kt
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">ProfileViewModel</span> : ViewModel(), ProfileViewEvents { <span style="color:#75715e">// 인터페이스 구현
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">val</span> _toastMessage = MutableLiveData&lt;Event&lt;String&gt;&gt;()
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">val</span> toastMessage: LiveData&lt;Event&lt;String&gt;&gt; = _toastMessage
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// 약속된 이벤트가 호출되면 실행될 실제 로직
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">override</span> <span style="color:#66d9ef">fun</span> <span style="color:#a6e22e">onProfileImageClicked</span>(userId: String) {
</span></span><span style="display:flex;"><span>        _toastMessage.<span style="color:#66d9ef">value</span> = Event(<span style="color:#e6db74">&#34;프로필 이미지 클릭: </span><span style="color:#e6db74">$userId</span><span style="color:#e6db74">&#34;</span>)
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// ex) 프로필 상세 화면으로 이동하는 로직 트리거
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">override</span> <span style="color:#66d9ef">fun</span> <span style="color:#a6e22e">onFollowButtonClicked</span>(userId: String) {
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// ex) API 호출하여 팔로우/언팔로우 처리
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        _toastMessage.<span style="color:#66d9ef">value</span> = Event(<span style="color:#e6db74">&#34;팔로우 버튼 클릭: </span><span style="color:#e6db74">$userId</span><span style="color:#e6db74">&#34;</span>)
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h4 id="step-4-activityfragment에서-조율-작업">Step 4: Activity/Fragment에서 &lsquo;조율&rsquo; 작업</h4>
<p>Activity는 그저 지휘자입니다. <code>ProfileView</code>와 <code>ProfileViewModel</code>을 연결해 주기만 합니다. <strong>이벤트 처리 로직은 단 한 줄도 없습니다.</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#75715e">&lt;!-- activity_main.xml --&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;LinearLayout</span> <span style="color:#960050;background-color:#1e0010">...</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;com.example.yourapp.ProfileView</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:id=</span><span style="color:#e6db74">&#34;@+id/profile_view&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:layout_width=</span><span style="color:#e6db74">&#34;match_parent&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:layout_height=</span><span style="color:#e6db74">&#34;wrap_content&#34;</span> <span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;/LinearLayout&gt;</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-kotlin" data-lang="kotlin"><span style="display:flex;"><span><span style="color:#75715e">// MainActivity.kt
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">MainActivity</span> : AppCompatActivity() {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">lateinit</span> <span style="color:#66d9ef">var</span> binding: ActivityMainBinding
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">val</span> viewModel: ProfileViewModel <span style="color:#66d9ef">by</span> viewModels()
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">override</span> <span style="color:#66d9ef">fun</span> <span style="color:#a6e22e">onCreate</span>(savedInstanceState: Bundle?) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">super</span>.onCreate(savedInstanceState)
</span></span><span style="display:flex;"><span>        binding = <span style="color:#a6e22e">ActivityMainBinding</span>.inflate(layoutInflater)
</span></span><span style="display:flex;"><span>        setContentView(binding.root)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// --- 지휘자의 역할: 뷰와 뷰모델 연결 (Setup) ---
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        binding.profileView.setEventListener(viewModel)
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// ---------------------------------------------
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// 데이터가 있다면 뷰에 설정
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#66d9ef">val</span> user = User(id = <span style="color:#e6db74">&#34;user-123&#34;</span>, name = <span style="color:#e6db74">&#34;Android&#34;</span>)
</span></span><span style="display:flex;"><span>        binding.profileView.setProfileData(user)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        observeViewModel()
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// ViewModel의 상태 변화를 감지하여 UI에 반영
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">fun</span> <span style="color:#a6e22e">observeViewModel</span>() {
</span></span><span style="display:flex;"><span>        viewModel.toastMessage.observe(<span style="color:#66d9ef">this</span>, EventObserver { message <span style="color:#f92672">-&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">Toast</span>.makeText(<span style="color:#66d9ef">this</span>, message, <span style="color:#a6e22e">Toast</span>.LENGTH_SHORT).show()
</span></span><span style="display:flex;"><span>        })
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h3 id="이-구조의-강력한-장점">이 구조의 강력한 장점</h3>
<ol>
<li><strong>완벽한 책임 분리</strong>:
<ul>
<li><strong>Activity</strong>: 뷰와 로직의 연결, 생명주기 관리.</li>
<li><strong>Custom View</strong>: 자기 내부의 UI 이벤트 감지 및 외부로 추상화된 이벤트 전달.</li>
<li><strong>ViewModel</strong>: &ldquo;무엇을 할 것인가&quot;에 대한 비즈니스 로직만 담당.</li>
</ul>
</li>
<li><strong>재사용성 극대화</strong>:
<ul>
<li><code>ProfileView</code>는 어떤 화면에서든 가져다 쓸 수 있는 독립적인 부품이 됩니다.</li>
<li><code>ProfileViewModel</code>의 로직도 다른 뷰에서 재사용될 수 있습니다.</li>
</ul>
</li>
<li><strong>테스트 용이성</strong>:
<ul>
<li><code>ProfileViewModel</code>은 Android 프레임워크에 대한 의존성이 거의 없으므로(인터페이스만 구현), JVM 환경에서 손쉽게 유닛 테스트를 할 수 있습니다.</li>
</ul>
</li>
<li><strong>가독성 및 유지보수성</strong>:
<ul>
<li><code>MainActivity</code>는 매우 간결해지며, 전체적인 구조를 파악하기 쉬워집니다. 새로운 기능을 추가하거나 수정할 때 어디를 봐야 할지 명확해집니다.</li>
</ul>
</li>
</ol>
<hr>
<h3 id="심화-데이터-바인딩으로-연결setup-코드도-제거하기">심화: 데이터 바인딩으로 연결(Setup) 코드도 제거하기</h3>
<p>데이터 바인딩을 사용하면 Activity의 <code>setEventListener</code> 호출 코드마저 XML로 옮겨 완전히 자동화할 수 있습니다.</p>
<p><strong>1. BindingAdapter 생성</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-kotlin" data-lang="kotlin"><span style="display:flex;"><span><span style="color:#75715e">// ProfileViewBindingAdapter.kt
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#a6e22e">@BindingAdapter</span>(<span style="color:#e6db74">&#34;onProfileEvent&#34;</span>)
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">fun</span> <span style="color:#a6e22e">setOnProfileEvent</span>(view: ProfileView, listener: ProfileViewEvents) {
</span></span><span style="display:flex;"><span>    view.setEventListener(listener)
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p><strong>2. XML 레이아웃 수정</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#75715e">&lt;!-- activity_main.xml --&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;layout</span> <span style="color:#a6e22e">xmlns:android=</span><span style="color:#e6db74">&#34;http://schemas.android.com/apk/res/android&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">xmlns:app=</span><span style="color:#e6db74">&#34;http://schemas.android.com/apk/res-auto&#34;</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;data&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&lt;variable</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">name=</span><span style="color:#e6db74">&#34;viewModel&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">type=</span><span style="color:#e6db74">&#34;com.example.yourapp.ProfileViewModel&#34;</span> <span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;/data&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;LinearLayout</span> <span style="color:#960050;background-color:#1e0010">...</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&lt;com.example.yourapp.ProfileView</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:id=</span><span style="color:#e6db74">&#34;@+id/profile_view&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:layout_width=</span><span style="color:#e6db74">&#34;match_parent&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:layout_height=</span><span style="color:#e6db74">&#34;wrap_content&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">app:onProfileEvent=</span><span style="color:#e6db74">&#34;@{viewModel}&#34;</span> <span style="color:#f92672">/&gt;</span> <span style="color:#75715e">&lt;!-- ViewModel을 리스너로 직접 바인딩 --&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;/LinearLayout&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;/layout&gt;</span>
</span></span></code></pre></div><p><strong>3. Activity 수정</strong>
<code>binding.profileView.setEventListener(viewModel)</code> 코드가 필요 없어집니다.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-kotlin" data-lang="kotlin"><span style="display:flex;"><span><span style="color:#75715e">// MainActivity.kt
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">// ...
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>binding.viewModel = viewModel <span style="color:#75715e">// 바인딩 변수에 뷰모델 할당
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">// binding.profileView.setEventListener(viewModel) &lt;- 이 줄 삭제!
</span></span></span></code></pre></div><p>이 방법을 사용하면 Activity는 그야말로 뷰-모델 바인딩과 생명주기 관리만 하는, 매우 이상적인 &lsquo;Dumb View&rsquo;가 됩니다.</p>

</article>


        
        <footer class="site-footer">
            
            <address>
                
            </address>
            <p>&copy; 2025 My Test Site. All rights reserved.</p>
        </footer>
    </main>

    
    <aside class="sidebar">
        <h3>최근 글</h3>
        <ul>
            
            <li><a href="http://localhost:1313/02.inbox/di-%EC%9D%98%EC%A1%B4%EC%84%B1-%EC%A3%BC%EC%9E%85-%EC%9D%98-%ED%83%80-%ED%94%84%EB%A0%88%EC%9E%84%EC%9B%8C%ED%81%AC-%EC%A0%91%EA%B7%BC-%EC%9C%A0%ED%8A%9C%EB%B8%8C-%EB%8C%93%EA%B8%80/">di (의존성 주입) 의 타 프레임워크 접근 유튜브 댓글</a></li>
            
            <li><a href="http://localhost:1313/%EB%AC%B4%EC%A0%9C-12/">무제 12</a></li>
            
            <li><a href="http://localhost:1313/temp/tmux/">tmux</a></li>
            
            <li><a href="http://localhost:1313/02.inbox/doxyzen-%ED%82%A4%EC%9B%8C%EB%93%9C/">Doxyzen 키워드</a></li>
            
            <li><a href="http://localhost:1313/university-algorizm/">university algorizm</a></li>
            
        </ul>

        <h3>태그</h3>
        
        
    </aside>
</body>
</html>