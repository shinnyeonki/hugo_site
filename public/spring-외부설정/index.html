<!DOCTYPE html>

<html lang="ko-KR"><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    
    
    
    
    <title>spring 외부설정 | My Test Site</title>
    

    
    
    <meta name="description" content=" application.properties 설정 우선순위 (가장 높음 → 낮음) 우선순위 소스 1 Devtools 전역 설정 (.spring-boot-devtools.properties) 2 테스트 애너테이션 (@TestPropertySource) 3 커맨드 라인 아규 …">

    
    
    <meta name="robots" content="index, follow">
    

    
    <link rel="canonical" href="http://localhost:1313/spring-%EC%99%B8%EB%B6%80%EC%84%A4%EC%A0%95/">

    
    
    
    <meta property="og:title" content="spring 외부설정">
    <meta property="og:description" content=" application.properties 설정 우선순위 (가장 높음 → 낮음) 우선순위 소스 1 Devtools 전역 설정 (.spring-boot-devtools.properties) 2 테스트 애너테이션 (@TestPropertySource) 3 커맨드 라인 아규 …">
    <meta property="og:url" content="http://localhost:1313/spring-%EC%99%B8%EB%B6%80%EC%84%A4%EC%A0%95/">
    <meta property="og:site_name" content="My Test Site">
    
    <meta property="og:type" content="blog">
    

    
    
    

    
    
    
    <meta name="twitter:card" content="summary_large_image">
    
    <meta name="twitter:title" content="spring 외부설정">
    <meta name="twitter:description" content=" application.properties 설정 우선순위 (가장 높음 → 낮음) 우선순위 소스 1 Devtools 전역 설정 (.spring-boot-devtools.properties) 2 테스트 애너테이션 (@TestPropertySource) 3 커맨드 라인 아규 …">
    

    
    
    

    
    <script src="https://cdn.tailwindcss.com?plugins=typography"></script>

</head><body>
    
     
    <header class="site-header">
        <div class="site-title">
            <a href="http://localhost:1313/">My Test Site</a>
        </div>
    </header>
    
    <nav class="site-nav">
        <ul>
            
        </ul>
    </nav>
    
    <main>
        
        
<article class="prose prose-sm lg:prose-base max-w-3xl mx-auto dk:prose-stone">
    <h1>spring 외부설정 **page.html**</h1>
    <ol>
<li>application.properties
설정 우선순위 (가장 높음 → 낮음)</li>
</ol>
<table>
  <thead>
      <tr>
          <th>우선순위</th>
          <th>소스</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>1</td>
          <td>Devtools 전역 설정 (<code>.spring-boot-devtools.properties</code>)</td>
      </tr>
      <tr>
          <td>2</td>
          <td>테스트 애너테이션 (<code>@TestPropertySource</code>)</td>
      </tr>
      <tr>
          <td>3</td>
          <td>커맨드 라인 아규먼트 (<code>--server.port=8080</code>)</td>
      </tr>
      <tr>
          <td>4</td>
          <td>JVM 시스템 프로퍼티 (<code>-Dproperty=value</code>)</td>
      </tr>
      <tr>
          <td>5</td>
          <td>OS 환경 변수</td>
      </tr>
      <tr>
          <td>6</td>
          <td><code>RandomValuePropertySource</code> (<code>${random.*}</code>)</td>
      </tr>
      <tr>
          <td>7</td>
          <td>JAR 외부의 <code>application-{profile}.properties</code></td>
      </tr>
      <tr>
          <td>8</td>
          <td>JAR 외부의 <code>application.properties</code></td>
      </tr>
      <tr>
          <td>9</td>
          <td>JAR 내부의 <code>application-{profile}.properties</code></td>
      </tr>
      <tr>
          <td>10</td>
          <td>JAR 내부의 <code>application.properties</code></td>
      </tr>
      <tr>
          <td>11</td>
          <td><code>@PropertySource</code> / <code>@ConfigurationProperties</code></td>
      </tr>
  </tbody>
</table>
<hr>
<h3 id="applicationproperties">application.properties</h3>
<h4 id="applicationproperties-우선-순위"><strong>application.properties 우선 순위</strong></h4>
<blockquote>
<p>application.properties 파일은 아래 4가지 경로에 만들 수 있지만,  우선순위에 따라 덮어쓰기가 된다.</p>
</blockquote>
<blockquote>
<ol>
<li>file:./config/</li>
<li>file:./</li>
<li>classpath:/config/</li>
<li>classpath:/</li>
</ol>
</blockquote>
<ul>
<li>file 경로 : src 폴더 하위에 application.properties</li>
<li>classpath 경로 : 기본적으로 만들어지는 resources 폴더 하위 application.properties</li>
</ul>
<h3 id="applicationproperties-1">application.properties</h3>
<h4 id="1-설정-파일-로딩-원리">1. 설정 파일 로딩 원리</h4>
<p>Spring Boot는 시작 시 Environment 객체를 생성합니다. 이후 정해진 우선순위에 따라 application.properties, 환경 변수 등 다양한 소스(Source)의 설정 값을 읽어 Environment에 채워 넣습니다. 애플리케이션의 다른 부분들은 이 Environment를 통해 설정 값을 사용합니다.</p>
<h4 id="2-설정-우선순위">2. 설정 우선순위</h4>
<p>핵심 원칙은 **외부 설정이 내부 설정을 덮어쓴다(override)**는 것입니다. 즉, 애플리케이션을 실행하는 시점에 주입하는 설정이 코드에 포함된 설정보다 우선순위가 높습니다.</p>
<p><strong>실무 핵심 순서 (높은 순):</strong></p>
<ul>
<li><strong>테스트 코드 내 설정</strong> (@TestPropertySource)</li>
<li><strong>커맨드 라인 인수</strong> (java -jar app.jar &ndash;server.port=9000)</li>
<li><strong>OS 환경 변수</strong> (export SERVER_PORT=9002)</li>
<li><strong>JAR 외부의 설정 파일</strong> (./config/application.properties)</li>
<li><strong>JAR 내부의 설정 파일</strong> (classpath:/application.properties)</li>
<li><strong>@PropertySource 로드 파일</strong></li>
<li><strong>SpringApplication 기본값</strong></li>
</ul>
<h3 id="3-configurationproperties-고급-활용">3. @ConfigurationProperties 고급 활용</h3>
<p>프로퍼티 값을 타입-세이프(Type-safe)하게 객체로 바인딩하는 기능입니다.</p>
<ul>
<li><strong>구조</strong>: 중첩 객체, 리스트, 맵 등 복잡한 구조의 프로퍼티를 객체에 자동으로 매핑할 수 있습니다.</li>
<li><strong>유효성 검사</strong>: @Validated 애너테이션과 spring-boot-starter-validation 의존성을 추가하면, 로드된 값에 대해 @NotNull, @Min 등 JSR-303 유효성 검사를 적용할 수 있습니다.</li>
</ul>
<h3 id="4-외부-설정-파일-주입">4. 외부 설정 파일 주입</h3>
<ul>
<li>spring.config.location: 지정된 위치의 파일<strong>만</strong> 사용합니다. (기본 경로 무시)</li>
<li>spring.config.additional-location: 기본 경로를 유지하면서 지정된 파일을 <strong>추가로</strong> 로드합니다.</li>
<li>spring.config.import: application.properties 내에서 다른 설정 파일을 불러옵니다. optional: 접두사를 붙이면 파일이 없어도 오류가 발생하지 않습니다.
<ul>
<li>spring.config.import=optional:classpath:aws.properties</li>
</ul>
</li>
</ul>
<h3 id="5-propertysource-vs-applicationproperties">5. @PropertySource vs application.properties</h3>
<ul>
<li>
<p><strong>우선순위</strong>: @PropertySource로 로드한 설정은 <strong>application.properties보다 우선순위가 낮습니다.</strong> 즉, 두 파일에 동일한 키가 있으면 application.properties의 값이 적용됩니다.</p>
</li>
<li>
<p><strong>용도</strong>: @PropertySource는 특정 기능에 대한 설정을 모듈화하거나 레거시 설정을 통합할 때 유용합니다. 주 설정 파일은 application.properties를 사용하는 것이 표준입니다.</p>
</li>
</ul>
<h3 id="6-ide-지원-자동-완성">6. IDE 지원 (자동 완성)</h3>
<p>spring-boot-configuration-processor 의존성을 추가하면, @ConfigurationProperties로 정의한 설정 키에 대해 IDE가 자동 완성 및 설명을 제공하여 개발 생산성을 크게 향상시킵니다.</p>
<h3 id="7-민감-정보-관리">7. 민감 정보 관리</h3>
<p>민감한 정보(DB 비밀번호, API 키 등)는 코드에 직접 작성하지 않는 것이 원칙입니다.</p>
<ul>
<li>
<p><strong>관리 방법</strong>: OS 환경 변수나 외부 설정 파일을 사용합니다.</p>
</li>
<li>
<p><strong>권장 방식</strong>: 클라우드 환경에서는 <strong>Vault, AWS SSM, GCP Secret Manager</strong>와 같은 외부 보안 저장소와 연동하는 것이 가장 안전합니다.</p>
</li>
</ul>
<h3 id="8-프로필과-조건부-설정">8. 프로필과 조건부 설정</h3>
<ul>
<li>
<p>@Profile: &ldquo;dev&rdquo;, &ldquo;prod&rdquo; 와 같이 특정 프로필이 활성화될 때만 특정 빈(Bean)을 등록하도록 제어합니다.</p>
</li>
<li>
<p>@ConditionalOnProperty: 특정 프로퍼티 값에 따라 빈의 등록 여부를 결정합니다. 기능 플래그(Feature Flag)를 구현할 때 매우 유용합니다.</p>
</li>
</ul>
<h3 id="9-테스트-설정">9. 테스트 설정</h3>
<ul>
<li>
<p><strong>설정 분리</strong>: src/test/resources/application-test.properties와 같이 테스트용 설정 파일을 분리하여 관리합니다.</p>
</li>
<li>
<p>@TestPropertySource: 특정 테스트 케이스에만 적용할 설정을 높은 우선순위로 주입할 수 있어, 독립적인 테스트 환경을 구성하는 데 효과적입니다.</p>
</li>
</ul>
<h3 id="10-properties-vs-yml">10. .properties vs .yml</h3>
<ul>
<li>
<p><strong>우선순위</strong>: 동일한 경로에 두 파일이 모두 존재할 경우, <strong>application.properties 파일이 .yml 파일보다 항상 우선순위가 높습니다.</strong></p>
</li>
<li>
<p><strong>특징</strong>:</p>
<ul>
<li>
<p><strong>application.properties</strong>: key=value 형식. 우선순위가 더 높음.</p>
</li>
<li>
<p><strong>application.yml</strong>: YAML 형식. 계층 구조 표현이 용이해 가독성이 좋음.</p>
</li>
</ul>
</li>
</ul>
<h3 id="11-핵심-실무-팁">11. 핵심 실무 팁</h3>
<ul>
<li>
<p><strong>보안</strong>: 민감 정보(비밀번호, API 키 등)는 절대로 Git에 커밋하지 마세요.</p>
</li>
<li>
<p><strong>분리</strong>: 테스트 환경을 위한 프로필(application-test.properties)을 분리하여 관리하세요.</p>
</li>
<li>
<p><strong>컨벤션</strong>: 팀 내에서 .properties와 .yml 중 하나를 주력으로 사용하기로 컨벤션을 정하여 혼란을 방지하세요. (최근에는 가독성이 좋은 .yml이 선호되는 추세입니다.)</p>
</li>
</ul>

</article>


        
        <footer class="site-footer">
            
            <address>
                
            </address>
            <p>&copy; 2025 My Test Site. All rights reserved.</p>
        </footer>
    </main>

    
    <aside class="sidebar">
        <h3>최근 글</h3>
        <ul>
            
            <li><a href="http://localhost:1313/02.inbox/di-%EC%9D%98%EC%A1%B4%EC%84%B1-%EC%A3%BC%EC%9E%85-%EC%9D%98-%ED%83%80-%ED%94%84%EB%A0%88%EC%9E%84%EC%9B%8C%ED%81%AC-%EC%A0%91%EA%B7%BC-%EC%9C%A0%ED%8A%9C%EB%B8%8C-%EB%8C%93%EA%B8%80/">di (의존성 주입) 의 타 프레임워크 접근 유튜브 댓글</a></li>
            
            <li><a href="http://localhost:1313/%EB%AC%B4%EC%A0%9C-12/">무제 12</a></li>
            
            <li><a href="http://localhost:1313/temp/tmux/">tmux</a></li>
            
            <li><a href="http://localhost:1313/02.inbox/doxyzen-%ED%82%A4%EC%9B%8C%EB%93%9C/">Doxyzen 키워드</a></li>
            
            <li><a href="http://localhost:1313/university-algorizm/">university algorizm</a></li>
            
        </ul>

        <h3>태그</h3>
        
        
    </aside>
</body>
</html>