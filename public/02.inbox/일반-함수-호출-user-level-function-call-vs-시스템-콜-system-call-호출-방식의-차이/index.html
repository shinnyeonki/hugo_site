<!DOCTYPE html>

<html lang="ko-KR"><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    
    
    
    
    <title>일반 함수 호출 (User level Function Call) vs 시스템 콜 (System Call) 호출 방식의 차이 | My Test Site</title>
    

    
    
    <meta name="description" content="시스템 콜(system call)은 사용자 프로그램이 커널의 기능을 간접적으로 호출하는 메커니즘이며, **매핑 테이블(시스템 콜 테이블)**을 통해 실제 커널 함수로 연결됩니다. 일반 함수 호출과 시스템 콜의 동작 방식을 인텔 어셈블리 문법과 함께 비교 설명합니다. …">

    
    
    <meta name="robots" content="index, follow">
    

    
    <link rel="canonical" href="http://localhost:1313/02.inbox/%EC%9D%BC%EB%B0%98-%ED%95%A8%EC%88%98-%ED%98%B8%EC%B6%9C-user-level-function-call-vs-%EC%8B%9C%EC%8A%A4%ED%85%9C-%EC%BD%9C-system-call-%ED%98%B8%EC%B6%9C-%EB%B0%A9%EC%8B%9D%EC%9D%98-%EC%B0%A8%EC%9D%B4/">

    
    
    
    <meta property="og:title" content="일반 함수 호출 (User level Function Call) vs 시스템 콜 (System Call) 호출 방식의 차이">
    <meta property="og:description" content="시스템 콜(system call)은 사용자 프로그램이 커널의 기능을 간접적으로 호출하는 메커니즘이며, **매핑 테이블(시스템 콜 테이블)**을 통해 실제 커널 함수로 연결됩니다. 일반 함수 호출과 시스템 콜의 동작 방식을 인텔 어셈블리 문법과 함께 비교 설명합니다. …">
    <meta property="og:url" content="http://localhost:1313/02.inbox/%EC%9D%BC%EB%B0%98-%ED%95%A8%EC%88%98-%ED%98%B8%EC%B6%9C-user-level-function-call-vs-%EC%8B%9C%EC%8A%A4%ED%85%9C-%EC%BD%9C-system-call-%ED%98%B8%EC%B6%9C-%EB%B0%A9%EC%8B%9D%EC%9D%98-%EC%B0%A8%EC%9D%B4/">
    <meta property="og:site_name" content="My Test Site">
    
    <meta property="og:type" content="blog">
    

    
    
    

    
    
    
    <meta name="twitter:card" content="summary_large_image">
    
    <meta name="twitter:title" content="일반 함수 호출 (User level Function Call) vs 시스템 콜 (System Call) 호출 방식의 차이">
    <meta name="twitter:description" content="시스템 콜(system call)은 사용자 프로그램이 커널의 기능을 간접적으로 호출하는 메커니즘이며, **매핑 테이블(시스템 콜 테이블)**을 통해 실제 커널 함수로 연결됩니다. 일반 함수 호출과 시스템 콜의 동작 방식을 인텔 어셈블리 문법과 함께 비교 설명합니다. …">
    

    
    
    

    
    <script src="https://cdn.tailwindcss.com?plugins=typography"></script>

</head><body>
    
     
    <header class="site-header">
        <div class="site-title">
            <a href="http://localhost:1313/">My Test Site</a>
        </div>
    </header>
    
    <nav class="site-nav">
        <ul>
            
        </ul>
    </nav>
    
    <main>
        
        
<article class="prose prose-sm lg:prose-base max-w-3xl mx-auto dk:prose-stone">
    <h1>일반 함수 호출 (User level Function Call) vs 시스템 콜 (System Call) 호출 방식의 차이 **page.html**</h1>
    <p>시스템 콜(system call)은 사용자 프로그램이 커널의 기능을 간접적으로 호출하는 메커니즘이며, **매핑 테이블(시스템 콜 테이블)**을 통해 실제 커널 함수로 연결됩니다. 일반 함수 호출과 시스템 콜의 동작 방식을 인텔 어셈블리 문법과 함께 비교 설명합니다.</p>
<hr>
<h3 id="1-일반-함수-호출-user-level-function-call"><strong>1. 일반 함수 호출 (User-level Function Call)</strong></h3>
<h4 id="동작-방식"><strong>동작 방식</strong></h4>
<ul>
<li><strong>직접 호출</strong>: 호출자(caller)가 함수의 메모리 주소를 직접 참조합니다.</li>
<li><strong>파라미터 전달</strong>: 레지스터 또는 스택을 사용합니다.</li>
<li><strong>제어권 이동</strong>: 사용자 공간 내에서만 실행되며, 커널 모드 전환 없이 동작합니다.</li>
</ul>
<h4 id="예시-간단한-덧셈-함수-호출"><strong>예시: 간단한 덧셈 함수 호출</strong></h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-asm" data-lang="asm"><span style="display:flex;"><span><span style="color:#a6e22e">section</span> <span style="color:#66d9ef">.data</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">num1</span> <span style="color:#66d9ef">dd</span> <span style="color:#ae81ff">10</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">num2</span> <span style="color:#66d9ef">dd</span> <span style="color:#ae81ff">20</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">section</span> <span style="color:#66d9ef">.text</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">global</span> <span style="color:#66d9ef">_start</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>_start:
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">; 파라미터 전달 (레지스터 사용)
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#a6e22e">mov</span> <span style="color:#66d9ef">eax</span>, [<span style="color:#66d9ef">num1</span>]  <span style="color:#75715e">; EAX = 10
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#a6e22e">mov</span> <span style="color:#66d9ef">ebx</span>, [<span style="color:#66d9ef">num2</span>]  <span style="color:#75715e">; EBX = 20
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#a6e22e">call</span> <span style="color:#66d9ef">add_numbers</span> <span style="color:#75715e">; 함수 호출
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">; 종료 (시스템 콜 예시로 대체 가능)
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#a6e22e">mov</span> <span style="color:#66d9ef">eax</span>, <span style="color:#ae81ff">1</span>       <span style="color:#75715e">; sys_exit 시스템 콜 번호
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#a6e22e">int</span> <span style="color:#ae81ff">0x80</span>         <span style="color:#75715e">; 커널 호출
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>add_numbers:
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">add</span> <span style="color:#66d9ef">eax</span>, <span style="color:#66d9ef">ebx</span>     <span style="color:#75715e">; EAX = EAX + EBX
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#a6e22e">ret</span>              <span style="color:#75715e">; 결과 반환
</span></span></span></code></pre></div><ul>
<li><strong>특징</strong>: <code>call</code> 명령어로 직접 함수 주소로 점프 → 커널 개입 없이 사용자 공간에서 실행.</li>
</ul>
<hr>
<h3 id="2-시스템-콜-system-call"><strong>2. 시스템 콜 (System Call)</strong></h3>
<h4 id="동작-방식-1"><strong>동작 방식</strong></h4>
<ul>
<li><strong>간접 호출</strong>: 시스템 콜 번호를 **매핑 테이블(sys_call_table)**에 전달해 커널 함수를 찾아 실행합니다.</li>
<li><strong>모드 전환</strong>: 사용자 모드 → 커널 모드 전환 (特权级别 변경).</li>
<li><strong>파라미터 전달</strong>: 레지스터에 시스템 콜 번호와 인자 저장 (예: <code>eax</code>, <code>ebx</code>, <code>ecx</code> 등).</li>
</ul>
<h4 id="시스템-콜-테이블의-역할"><strong>시스템 콜 테이블의 역할</strong></h4>
<ul>
<li>커널은 <strong>sys_call_table</strong>이라는 배열을 유지하며, 각 인덱스는 시스템 콜 번호에 해당합니다.</li>
<li>예: Linux x86에서 <code>sys_write</code>의 시스템 콜 번호는 <code>4</code>입니다.
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">// Linux 커널 소스 (unistd_32.h)
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#75715e">#define __NR_write 4
</span></span></span></code></pre></div></li>
</ul>
<h4 id="예시"><strong>예시: <code>sys_write</code> 시스템 콜 호출</strong></h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-asm" data-lang="asm"><span style="display:flex;"><span><span style="color:#a6e22e">section</span> <span style="color:#66d9ef">.data</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">msg</span> <span style="color:#66d9ef">db</span> <span style="color:#960050;background-color:#1e0010">&#34;</span><span style="color:#66d9ef">Hello</span>, <span style="color:#66d9ef">World</span>!<span style="color:#960050;background-color:#1e0010">&#34;</span>, <span style="color:#ae81ff">0xA</span>  <span style="color:#75715e">; 출력 메시지 (0xA = 개행)
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#a6e22e">len</span> <span style="color:#66d9ef">equ</span> <span style="color:#66d9ef">$</span> - <span style="color:#66d9ef">msg</span>               <span style="color:#75715e">; 메시지 길이
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">section</span> <span style="color:#66d9ef">.text</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">global</span> <span style="color:#66d9ef">_start</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>_start:
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">; 시스템 콜 파라미터 설정 (레지스터 사용)
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#a6e22e">mov</span> <span style="color:#66d9ef">eax</span>, <span style="color:#ae81ff">4</span>          <span style="color:#75715e">; sys_write 시스템 콜 번호 (NR_write = 4)
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#a6e22e">mov</span> <span style="color:#66d9ef">ebx</span>, <span style="color:#ae81ff">1</span>          <span style="color:#75715e">; 파일 디스크립터 (stdout = 1)
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#a6e22e">mov</span> <span style="color:#66d9ef">ecx</span>, <span style="color:#66d9ef">msg</span>        <span style="color:#75715e">; 메시지 주소
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#a6e22e">mov</span> <span style="color:#66d9ef">edx</span>, <span style="color:#66d9ef">len</span>        <span style="color:#75715e">; 메시지 길이
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#a6e22e">int</span> <span style="color:#ae81ff">0x80</span>            <span style="color:#75715e">; 커널 모드 전환 (소프트웨어 인터럽트)
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">; 프로그램 종료
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#a6e22e">mov</span> <span style="color:#66d9ef">eax</span>, <span style="color:#ae81ff">1</span>          <span style="color:#75715e">; sys_exit 시스템 콜 번호
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#a6e22e">xor</span> <span style="color:#66d9ef">ebx</span>, <span style="color:#66d9ef">ebx</span>        <span style="color:#75715e">; 반환 값 0
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#a6e22e">int</span> <span style="color:#ae81ff">0x80</span>
</span></span></code></pre></div><h4 id="시스템-콜-처리-과정"><strong>시스템 콜 처리 과정</strong></h4>
<ol>
<li><strong>인터럽트 발생</strong>: <code>int 0x80</code> 또는 <code>syscall</code> 명령어로 커널 모드 진입.</li>
<li><strong>시스템 콜 번호 확인</strong>: <code>eax</code> 레지스터에서 시스템 콜 번호를 읽습니다.</li>
<li><strong>매핑 테이블 조회</strong>: 커널은 <code>sys_call_table</code>에서 해당 번호의 함수 포인터를 찾습니다.
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">// 커널 내부 sys_call_table 예시 (x86)
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>asmlinkage <span style="color:#66d9ef">long</span> <span style="color:#a6e22e">sys_write</span>(<span style="color:#66d9ef">unsigned</span> <span style="color:#66d9ef">int</span> fd, <span style="color:#66d9ef">const</span> <span style="color:#66d9ef">char</span> __user <span style="color:#f92672">*</span>buf, <span style="color:#66d9ef">size_t</span> count);
</span></span></code></pre></div></li>
<li><strong>함수 실행</strong>: 매핑된 커널 함수(예: <code>sys_write</code>)를 실행합니다.</li>
<li><strong>결과 반환</strong>: 사용자 모드로 복귀 후 결과를 레지스터(<code>eax</code>)에 저장합니다.</li>
</ol>
<hr>
<h3 id="3-시스템-콜-vs-일반-함수-호출의-핵심-차이"><strong>3. 시스템 콜 vs 일반 함수 호출의 핵심 차이</strong></h3>
<table>
  <thead>
      <tr>
          <th><strong>구분</strong></th>
          <th><strong>일반 함수 호출</strong></th>
          <th><strong>시스템 콜</strong></th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td><strong>실행 모드</strong></td>
          <td>사용자 모드 (User Mode)</td>
          <td>커널 모드 (Kernel Mode)</td>
      </tr>
      <tr>
          <td><strong>호출 방식</strong></td>
          <td>직접 호출 (<code>call</code> 명령어)</td>
          <td>간접 호출 (인터럽트/시스템 콜 명령어)</td>
      </tr>
      <tr>
          <td><strong>파라미터 전달</strong></td>
          <td>레지스터/스택</td>
          <td>레지스터 (커널에서 정의한 규칙)</td>
      </tr>
      <tr>
          <td><strong>오버헤드</strong></td>
          <td>낮음 (메모리 접근만 발생)</td>
          <td>높음 (모드 전환, 컨텍스트 스위칭)</td>
      </tr>
      <tr>
          <td><strong>보안</strong></td>
          <td>제한 없음</td>
          <td>커널이 검증 후 실행</td>
      </tr>
  </tbody>
</table>
<hr>
<h3 id="시스템-콜-테이블의-구조-linux-x86-예시"><strong>시스템 콜 테이블의 구조 (Linux x86 예시)</strong></h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">// arch/x86/kernel/syscall_32.c (커널 소스)
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">extern</span> asmlinkage <span style="color:#66d9ef">long</span> <span style="color:#a6e22e">sys_write</span>(<span style="color:#66d9ef">unsigned</span> <span style="color:#66d9ef">int</span>, <span style="color:#66d9ef">const</span> <span style="color:#66d9ef">char</span> __user <span style="color:#f92672">*</span>, <span style="color:#66d9ef">size_t</span>);
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">extern</span> asmlinkage <span style="color:#66d9ef">long</span> <span style="color:#a6e22e">sys_read</span>(<span style="color:#66d9ef">unsigned</span> <span style="color:#66d9ef">int</span>, <span style="color:#66d9ef">char</span> __user <span style="color:#f92672">*</span>, <span style="color:#66d9ef">size_t</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">static</span> <span style="color:#66d9ef">const</span> <span style="color:#66d9ef">sys_call_ptr_t</span> sys_call_table[__NR_syscall_max <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>] <span style="color:#f92672">=</span> {
</span></span><span style="display:flex;"><span>    [<span style="color:#ae81ff">0</span> ... __NR_syscall_max] <span style="color:#f92672">=</span> <span style="color:#f92672">&amp;</span>sys_ni_syscall,  <span style="color:#75715e">// 기본값: 지원되지 않는 시스템 콜
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    [__NR_write] <span style="color:#f92672">=</span> sys_write,
</span></span><span style="display:flex;"><span>    [__NR_read] <span style="color:#f92672">=</span> sys_read,
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// ... (다른 시스템 콜 매핑)
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>};
</span></span></code></pre></div><ul>
<li><strong>간접 참조</strong>: <code>sys_call_table[__NR_write]</code> → <code>sys_write</code> 함수 포인터.</li>
</ul>
<hr>
<h3 id="요약"><strong>요약</strong></h3>
<ul>
<li><strong>일반 함수 호출</strong>: 사용자 공간 내에서 직접 실행되며, 빠르지만 권한이 제한적입니다.</li>
<li><strong>시스템 콜</strong>: 커널의 매핑 테이블을 통해 간접적으로 실행되며, 모드 전환과 검증 과정을 거쳐 안전하게 하드웨어/커널 자원을 제어합니다.</li>
<li><strong>예시</strong>: <code>int 0x80</code>은 커널의 <strong>인터럽트 핸들러</strong>를 호출해 시스템 콜 테이블을 조회하고, 실제 함수(예: <code>sys_write</code>)를 실행합니다.</li>
</ul>

</article>


        
        <footer class="site-footer">
            
            <address>
                
            </address>
            <p>&copy; 2025 My Test Site. All rights reserved.</p>
        </footer>
    </main>

    
    <aside class="sidebar">
        <h3>최근 글</h3>
        <ul>
            
            <li><a href="http://localhost:1313/02.inbox/di-%EC%9D%98%EC%A1%B4%EC%84%B1-%EC%A3%BC%EC%9E%85-%EC%9D%98-%ED%83%80-%ED%94%84%EB%A0%88%EC%9E%84%EC%9B%8C%ED%81%AC-%EC%A0%91%EA%B7%BC-%EC%9C%A0%ED%8A%9C%EB%B8%8C-%EB%8C%93%EA%B8%80/">di (의존성 주입) 의 타 프레임워크 접근 유튜브 댓글</a></li>
            
            <li><a href="http://localhost:1313/%EB%AC%B4%EC%A0%9C-12/">무제 12</a></li>
            
            <li><a href="http://localhost:1313/temp/tmux/">tmux</a></li>
            
            <li><a href="http://localhost:1313/02.inbox/doxyzen-%ED%82%A4%EC%9B%8C%EB%93%9C/">Doxyzen 키워드</a></li>
            
            <li><a href="http://localhost:1313/university-algorizm/">university algorizm</a></li>
            
        </ul>

        <h3>태그</h3>
        
        
    </aside>
</body>
</html>