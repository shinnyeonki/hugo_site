<!DOCTYPE html>

<html lang="en-US"><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    
    
    
    
    <title>00.초기 설정 | My Test Site</title>
    

    
    
    <meta name="description" content="서버 $ apt install mysql-server, mysql-common update-alternatives: using /var/lib/mecab/dic/ipadic-utf8 to provide /var/lib/mecab/dic/debian …">

    
    
    <meta name="robots" content="index, follow">
    

    
    <link rel="canonical" href="http://localhost:1313/02.inbox/real-my-sql/00.%EC%B4%88%EA%B8%B0-%EC%84%A4%EC%A0%95/">

    
    
    
    <meta property="og:title" content="00.초기 설정">
    <meta property="og:description" content="서버 $ apt install mysql-server, mysql-common update-alternatives: using /var/lib/mecab/dic/ipadic-utf8 to provide /var/lib/mecab/dic/debian …">
    <meta property="og:url" content="http://localhost:1313/02.inbox/real-my-sql/00.%EC%B4%88%EA%B8%B0-%EC%84%A4%EC%A0%95/">
    <meta property="og:site_name" content="My Test Site">
    
    <meta property="og:type" content="blog">
    

    
    
    

    
    
    
    <meta name="twitter:card" content="summary_large_image">
    
    <meta name="twitter:title" content="00.초기 설정">
    <meta name="twitter:description" content="서버 $ apt install mysql-server, mysql-common update-alternatives: using /var/lib/mecab/dic/ipadic-utf8 to provide /var/lib/mecab/dic/debian …">
    

    
    
    

    
    <script src="https://cdn.tailwindcss.com?plugins=typography"></script>

</head><body>
    
     
    <header class="site-header">
        <div class="site-title">
            <a href="http://localhost:1313/">My Test Site</a>
        </div>
    </header>
    
    <nav class="site-nav">
        <ul>
            
        </ul>
    </nav>
    
    <main>
        
        
<article class="prose prose-sm lg:prose-base max-w-3xl mx-auto dk:prose-stone">
    <h1>00.초기 설정 **page.html**</h1>
    <h2 id="서버">서버</h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>$ apt install mysql-server, mysql-common
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>update-alternatives: using /var/lib/mecab/dic/ipadic-utf8 to provide /var/lib/mecab/dic/debian <span style="color:#f92672">(</span>mecab-dictionary<span style="color:#f92672">)</span> in auto mode
</span></span><span style="display:flex;"><span>Setting up mysql-server-8.0 <span style="color:#f92672">(</span>8.0.40-0ubuntu0.22.04.1<span style="color:#f92672">)</span> ...
</span></span><span style="display:flex;"><span>update-alternatives: using /etc/mysql/mysql.cnf to provide /etc/mysql/my.cnf <span style="color:#f92672">(</span>my.cnf<span style="color:#f92672">)</span> in auto mode
</span></span><span style="display:flex;"><span>Renaming removed key_buffer and myisam-recover options <span style="color:#f92672">(</span><span style="color:#66d9ef">if</span> present<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>mysqld will log errors to /var/log/mysql/error.log
</span></span><span style="display:flex;"><span>mysqld is running as pid <span style="color:#ae81ff">13348</span>
</span></span><span style="display:flex;"><span>Created symlink /etc/systemd/system/multi-user.target.wants/mysql.service → /lib/systemd/system/mysql.service.
</span></span><span style="display:flex;"><span>Setting up mysql-server <span style="color:#f92672">(</span>8.0.40-0ubuntu0.22.04.1<span style="color:#f92672">)</span> ...
</span></span><span style="display:flex;"><span>Processing triggers <span style="color:#66d9ef">for</span> man-db <span style="color:#f92672">(</span>2.10.2-1<span style="color:#f92672">)</span> ...
</span></span><span style="display:flex;"><span>Processing triggers <span style="color:#66d9ef">for</span> libc-bin <span style="color:#f92672">(</span>2.35-0ubuntu3.8<span style="color:#f92672">)</span> ...
</span></span></code></pre></div><p>동작 확인 : <code>nc -zv localhost(host/ip) mysql(port/service name)</code></p>
<p>mysql 서버 업그레이드</p>
<ol>
<li>인프레이스 업그레이드 : 물리적 파일을 그대로 두고 업그레이드</li>
<li>논리적 업그레이드 : 덤프(mysqldump)</li>
</ol>
<p>시스템 변수 : <code>show GLOBAL VARIABLES</code></p>
<ol>
<li>적용 범위에 따른 구분: 글로벌 변수(전체 적용, my.cnf를 사용해 영구적 변경가능)와 세션 변수(세션별로 적용) both(전체 기본값은 설
        <img src="/08.media/20241213173255.png" alt=" (Image resource not found)" >
global : 영구 변경, 모든 세션에 동등하게 영향끼침
session : 각 세션별 변경가능
both : 영구 변경가능하면서 세션별로 따로 설정 가능</li>
<li>정적 변수 동적 변수 : 서버가 동작중인 상태에서 변경가능 여부 :
정적변수my.cnf 를 변경해야 정적으로 변경되고(즉 재시작)
동적변수 : set 명령으로 동적으로 변경할 수 있다</li>
</ol>
<p>db 전용 서버 설정</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-json" data-lang="json"><span style="display:flex;"><span>[<span style="color:#960050;background-color:#1e0010">mysqld</span>]
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">server—id=l</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">user=mysql</span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">datadir=/data/mysql/</span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">default_storage_engine=innodb</span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">defaul_tmp_storage_engine=innodb</span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">table_open_cache=</span><span style="color:#ae81ff">30000</span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">table_open_cache_instances=</span><span style="color:#ae81ff">16</span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">open-fi</span><span style="color:#ae81ff">1</span><span style="color:#960050;background-color:#1e0010">es-limit=</span><span style="color:#ae81ff">65535</span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">default—time-zone=&#39;+</span><span style="color:#ae81ff">09</span><span style="color:#960050;background-color:#1e0010">:</span><span style="color:#ae81ff">00</span><span style="color:#960050;background-color:#1e0010">&#39;</span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">socket=/tmp/mysq</span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">local_infi</span><span style="color:#ae81ff">1</span><span style="color:#960050;background-color:#1e0010">e=</span><span style="color:#ae81ff">0</span><span style="color:#960050;background-color:#1e0010">FF</span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">block_encryption_mode=&#39;aes</span><span style="color:#ae81ff">-256</span><span style="color:#960050;background-color:#1e0010">-ecb&#39;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">core_file</span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">innodb_buffer_pool_in_core_file=OFF</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">max_allowed_packet=</span><span style="color:#ae81ff">67108864</span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">explicit_defaults_for_timestamp=ON</span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">sql-mode=</span> <span style="color:#e6db74">&#34;STRICT_TRANS_TABLES,NO_ZERO_IN_DATE, NO_ZERO_DATE, ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE SUBSTITUTION&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">character-set-server-utf</span><span style="color:#ae81ff">8</span><span style="color:#960050;background-color:#1e0010">mb</span><span style="color:#ae81ff">4</span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">character-set-filesystem-utf</span><span style="color:#ae81ff">8</span><span style="color:#960050;background-color:#1e0010">mb</span><span style="color:#ae81ff">4</span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">collation_server-utf</span><span style="color:#ae81ff">8</span><span style="color:#960050;background-color:#1e0010">mb</span><span style="color:#ae81ff">4</span><span style="color:#960050;background-color:#1e0010">_</span><span style="color:#ae81ff">0900</span><span style="color:#960050;background-color:#1e0010">_ai_ci</span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">skip-character-set-client-handshake</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">max_connections=</span><span style="color:#ae81ff">8000</span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">max_connect_errors=</span><span style="color:#ae81ff">999999</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">activate_all_roles_on_login=</span><span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">skip-name-resolve</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">ngram_token_size=</span><span style="color:#ae81ff">2</span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">max_heap_table_size=</span><span style="color:#ae81ff">10</span><span style="color:#960050;background-color:#1e0010">M</span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">tmp_table_size=</span><span style="color:#ae81ff">10</span><span style="color:#960050;background-color:#1e0010">M</span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">tmpdir=/data/mytmp/</span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">secure-file-priv=/data/securefile/</span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">default_password_lifetime=</span><span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">sysdate-is-now</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">###</span> <span style="color:#960050;background-color:#1e0010">InnoDB</span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">innodb_sort_buffer_size=</span><span style="color:#ae81ff">64</span><span style="color:#960050;background-color:#1e0010">M</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">innodb_data_home_dir=/data/mysql/</span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">innodb_data_file_path=ibdata</span><span style="color:#ae81ff">1</span><span style="color:#960050;background-color:#1e0010">:</span><span style="color:#ae81ff">100</span><span style="color:#960050;background-color:#1e0010">M:autoextend</span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">innodb_temp_data_file_path=ibtmp</span><span style="color:#ae81ff">1</span><span style="color:#960050;background-color:#1e0010">:</span><span style="color:#ae81ff">12</span><span style="color:#960050;background-color:#1e0010">M:</span> <span style="color:#960050;background-color:#1e0010">autoextend</span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">innodb_log_group_home_dir=/log/innodb-log</span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">innodb_log_files_in_group=</span><span style="color:#ae81ff">3</span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">innodb_log_file_size=</span><span style="color:#ae81ff">2048</span><span style="color:#960050;background-color:#1e0010">M</span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">innodb_file_per_table=ON</span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">innodb_undo_directory=/log/innodb-undo/</span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">innodb_rollback_segments=</span><span style="color:#ae81ff">64</span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">innodb_undo_tablespaces=</span><span style="color:#ae81ff">2</span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">innodb_max_undo_log_size=</span><span style="color:#ae81ff">536870912</span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">innodb_undo_log_truncate</span> <span style="color:#960050;background-color:#1e0010">ON</span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">innodb_status_output_locks=ON</span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">innodb_print_all_deadlocks-ON</span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">innodb_adaptive_hash_index=OFF</span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">innodb_buffer_pool_size=</span><span style="color:#ae81ff">206</span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">innodb_buffer_pool_instances=</span><span style="color:#ae81ff">10</span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">innodb_doublewrite=OFF</span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">innodb_checksun_algorithm=CRC</span><span style="color:#ae81ff">32</span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">innodb_flush_log_at_trx_commit=</span><span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">innodb_flush_method=</span><span style="color:#ae81ff">0</span><span style="color:#960050;background-color:#1e0010">_DIRECT_NO_FSYNC</span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">innodb_io_capacity=</span><span style="color:#ae81ff">1000</span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">innodb_io_capacity_max=</span><span style="color:#ae81ff">5000</span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">innodb_ft_enable_stopword-OFF</span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">innodb_cmp_per_index_enabled=ON</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">###</span> <span style="color:#960050;background-color:#1e0010">Performance</span> <span style="color:#960050;background-color:#1e0010">schema</span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">performance_schema=ON</span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">performance-schema-instrument=</span><span style="color:#e6db74">&#34;stage/%=ON&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">performance-schema-instrument=&#39;memory/%=ON&#39;</span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">performance-schema-instrument=&#39;wait/%=ON&#39;</span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">performance-schema-consumer-events_stages_current=ON</span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">performance-schema-consumer-events_stages_history=ON</span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">performance-schema-consumer-events_stages_history_long=ON</span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">performance-schema-consumer-events_statements_history-OFF</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">performance-schema-consumer-events_statements_history_long=ON</span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">performance-schema-consumer-events_waits_current=ON</span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">performance-schema-consumer-events_waits_history=ON</span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">performance-schena-consumer-events_waits_history_long=ON</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">performance_schema_events_stages_history_long_size=</span><span style="color:#ae81ff">50000</span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">performance_schema_events_stages_history_size=</span><span style="color:#ae81ff">10</span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">performance_schema_events_statements_history_long_size=</span><span style="color:#ae81ff">50000</span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">performance_schena_events_statements_history_size=</span><span style="color:#ae81ff">10</span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">performance_schema_events_waits_history_long_size=</span><span style="color:#ae81ff">50000</span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">performance_schema_events_waits_history_size=</span><span style="color:#ae81ff">10</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">###</span> <span style="color:#960050;background-color:#1e0010">TDE</span> <span style="color:#960050;background-color:#1e0010">(Encryption)</span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">early-plugin-load-keyring_file.so</span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">keyring_file_data</span> <span style="color:#960050;background-color:#1e0010">=</span> <span style="color:#960050;background-color:#1e0010">/data/tde/tde_master.key</span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">###</span> <span style="color:#960050;background-color:#1e0010">Password</span> <span style="color:#960050;background-color:#1e0010">validate</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">password_history=</span><span style="color:#ae81ff">5</span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">validate_password.length=</span><span style="color:#ae81ff">8</span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">validate_password.mixed_case_count=</span><span style="color:#ae81ff">2</span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">validate_password.number_count=</span><span style="color:#ae81ff">2</span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">validate_password.</span> <span style="color:#960050;background-color:#1e0010">special_char_count=</span><span style="color:#ae81ff">2</span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">validate_password.dictionary_file-prohibitive_dictionary.data</span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">validate_password.policy=STRONG</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">###</span> <span style="color:#960050;background-color:#1e0010">MySQL</span> <span style="color:#960050;background-color:#1e0010">BinLog</span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">log-bin=/log/mysql-bin/mysql-bin</span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">sync_binlog=</span><span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">enforce_gtid_consistency=ON</span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">gtid-mode=ON</span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">binlog_checksum=CRC</span><span style="color:#ae81ff">32</span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">binlog_order_commits=ON</span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">binlog_format=ROW</span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">binlog_row_image=MINIMAL</span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">max_binlog_size=</span><span style="color:#ae81ff">104857600</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">###</span> <span style="color:#960050;background-color:#1e0010">MySQL</span> <span style="color:#960050;background-color:#1e0010">Replica</span> <span style="color:#960050;background-color:#1e0010">Options</span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">slave_parallel_type=LOGICAL_CLOCK</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">slave_parallel_workers=</span><span style="color:#ae81ff">4</span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">slave_preserve_commit_order=</span><span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">binlog_rows_query_log_events=ON</span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">log_slave_updates</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">###</span> <span style="color:#960050;background-color:#1e0010">Relay</span> <span style="color:#960050;background-color:#1e0010">Log</span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">relay-log-/log/relay-bin/relay-bin</span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">relay_log_info_repository=TABLE</span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">relay_log_recovery=ON</span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">relay_log_purge=ON</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">###</span> <span style="color:#960050;background-color:#1e0010">MySQL</span> <span style="color:#960050;background-color:#1e0010">ErrorLog</span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">log-error-/log/mysql-err.log</span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">log_error_verbosity=</span><span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">###</span> <span style="color:#960050;background-color:#1e0010">MySQL</span> <span style="color:#960050;background-color:#1e0010">Slow</span> <span style="color:#960050;background-color:#1e0010">Log</span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">slow-query-log=</span><span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">long_query_time=</span><span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">log_slow_extra=</span><span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">log_slow_admin_statements=</span><span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">log_slow_slave_statements=</span><span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">slow_query_log_file=/log/mysql-slow.log</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">###</span> <span style="color:#960050;background-color:#1e0010">MySQL</span> <span style="color:#960050;background-color:#1e0010">Log</span> <span style="color:#960050;background-color:#1e0010">Expire</span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">binlog_expire_logs_seconds=</span><span style="color:#ae81ff">259200</span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">log-raw</span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">log_timestamps=SYSTEM</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>[<span style="color:#960050;background-color:#1e0010">client</span>]
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">socket</span> <span style="color:#960050;background-color:#1e0010">/tmp/mysql.sock</span>
</span></span></code></pre></div><h2 id="계정">계정</h2>
<p>SUSTEM_USER 권한을 부여하면 시스템계정
이외에는 일반계정

        <img src="/08.media/20241213194472.png" alt="Pasted image 20241213194472 (Image resource not found)" ></p>
<p>비밀번호 유효성검사
<code>INSTALL COMPONENT 'file://component_validate_password';</code>
<code>UNINSTALL COMPONENT 'file://component_validate_password';</code></p>
<p>권한</p>
<p><code>GRANT (권한 목록) ON (객체) TO (유저);</code>
<code>SHOW GRANTS FOR 'username'@'host';</code>
<code>REVOKE ALL PRIVILEGES ON *.* FROM 'username'@'host';</code></p>
<p>객체는 데이터베이스, table 이 될수 있다
정적권한을 줄때는 객체를 명시하지 말아야 한다
정적권한
        <img src="/08.media/20241213210234.png" alt="Pasted image 20241213210234 (Image resource not found)" >

        <img src="/08.media/20241213210216.png" alt="Pasted image 20241213210216 (Image resource not found)" >
동적권한
        <img src="/08.media/20241213211014.png" alt="Pasted image 20241213211014 (Image resource not found)" >

        <img src="/08.media/20241213232841.png" alt="Pasted image 20241213232841 (Image resource not found)" ></p>
<p>기본적으로 role 은 활성화 되지 않음: <code>activate_all_roles_on_login=ON</code>
<code>mysql.default_roles</code>, <code>mysql.role_edges</code>
<code>mysql.user</code> 의 <code>account_locked</code> 속성이 Y 이면 role, N 이면 user</p>

</article>


        
        <footer class="site-footer">
            
            <address>
                
            </address>
            <p>&copy; 2025 My Test Site. All rights reserved.</p>
        </footer>
    </main>

    
    <aside class="sidebar">
        <h3>최근 글</h3>
        <ul>
            
            <li><a href="http://localhost:1313/signal-%EC%B0%A8%EC%9D%B4-unixmacos-vs-linux/">signal 차이 unix(macos) vs linux</a></li>
            
            <li><a href="http://localhost:1313/02.inbox/doxyzen-%ED%82%A4%EC%9B%8C%EB%93%9C/">Doxyzen 키워드</a></li>
            
            <li><a href="http://localhost:1313/02.inbox/%EB%B0%B1%EC%97%94%EB%93%9C-%EA%B5%AC%EC%A1%B0-%EB%B3%80%ED%99%94-%EC%97%AD%EC%82%AC/">백엔드 구조 변화 역사</a></li>
            
            <li><a href="http://localhost:1313/%EC%BD%94%EC%96%B4-%EB%8D%A4%ED%94%84core-dump/">코어 덤프(Core Dump)</a></li>
            
            <li><a href="http://localhost:1313/copilot/copilot-custom-prompts/translate-to-chinese/">Translate to Chinese</a></li>
            
        </ul>

        <h3>태그</h3>
        
        
    </aside>
</body>
</html>