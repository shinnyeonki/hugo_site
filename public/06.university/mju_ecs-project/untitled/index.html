<!DOCTYPE html>

<html lang="ko-KR"><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    
    
    
    
    <title>Untitled | My Test Site</title>
    

    
    
    <meta name="description" content=" %20image%2020250513062286.png)
[고건혁] [오전 1:16] 포워딩 방식을 지금 하려고 하니까 생각난 궁금증이 일단 ttyd컨테이너는 외부 접근을 차단하고 포워딩 방식으로 한다고 하면
도커 컨테이너(커스텀컨테이너)에 대한 접근은 어떤 식으로 하 …">

    
    
    <meta name="robots" content="index, follow">
    

    
    <link rel="canonical" href="http://localhost:1313/06.university/mju_ecs-project/untitled/">

    
    
    
    <meta property="og:title" content="Untitled">
    <meta property="og:description" content=" %20image%2020250513062286.png)
[고건혁] [오전 1:16] 포워딩 방식을 지금 하려고 하니까 생각난 궁금증이 일단 ttyd컨테이너는 외부 접근을 차단하고 포워딩 방식으로 한다고 하면
도커 컨테이너(커스텀컨테이너)에 대한 접근은 어떤 식으로 하 …">
    <meta property="og:url" content="http://localhost:1313/06.university/mju_ecs-project/untitled/">
    <meta property="og:site_name" content="My Test Site">
    
    <meta property="og:type" content="blog">
    

    
    
    

    
    
    
    <meta name="twitter:card" content="summary_large_image">
    
    <meta name="twitter:title" content="Untitled">
    <meta name="twitter:description" content=" %20image%2020250513062286.png)
[고건혁] [오전 1:16] 포워딩 방식을 지금 하려고 하니까 생각난 궁금증이 일단 ttyd컨테이너는 외부 접근을 차단하고 포워딩 방식으로 한다고 하면
도커 컨테이너(커스텀컨테이너)에 대한 접근은 어떤 식으로 하 …">
    

    
    
    

    
    <script src="https://cdn.tailwindcss.com?plugins=typography"></script>

</head><body>
    
     
    <header class="site-header">
        <div class="site-title">
            <a href="http://localhost:1313/">My Test Site</a>
        </div>
    </header>
    
    <nav class="site-nav">
        <ul>
            
        </ul>
    </nav>
    
    <main>
        
        
<article class="prose prose-sm lg:prose-base max-w-3xl mx-auto dk:prose-stone">
    <h1>Untitled **page.html**</h1>
    <p>
        <img src="/08.media/20250513062286.png" alt=" (Image resource not found)" >%20image%2020250513062286.png)</p>
<ul>
<li>
<p>[고건혁] [오전 1:16] 포워딩 방식을 지금 하려고 하니까 생각난 궁금증이 일단 ttyd컨테이너는 외부 접근을 차단하고 포워딩 방식으로 한다고 하면<br>
도커 컨테이너(커스텀컨테이너)에 대한 접근은 어떤 식으로 하는건가요?</p>
<ul>
<li>아래 사진과 같은 방식중 첫번째 방식을 사용하려고 하였습니다

        <img src="/08.media/20250513064647.png" alt="Pasted image 20250513064647 (Image resource not found)" ></li>
</ul>
</li>
<li>
<p>[고건혁] [오전 1:17] 포워딩 방식을 사용하는 이유가 단순히 다른 사용자가 남의 컨테이너에 접근하는데 그냥 localhost:9000치고 들어가버리면 안되니까 그런건데<br>
예를 들어서 ttyd웹 환경에서 안하고 다른사람이 남의 컨테이너 포트 번호를 아는상태에서 VsCode나 로컬 터미널 환경에서 접근하는건 어떻게 막는건가요?</p>
<ul>
<li>상단에 설명한 것 처럼 허용하는 ip 만 접근 가능한거여서 포워딩 방식으로 접근하지 않는 한 접근 할 수 없습니다</li>
</ul>
</li>
<li>
<p>[고건혁] [오전 2:26] 포워딩 방식이 여전히 spring에서는 ws을 전달하지 못하는 문제가 있어서 새로 구현한 방식이 일단 기존 학교 msi나 lms같이 처음부터 모든 포트를 닫고 사용자가 인증에 성공한 경우에만 지속적으로 ping을 보내서 포트를 열어두고 사용자가 사용을 중지하면 포트를 닫아서 보안을 유지하는 방식으로 변경했습니다</p>
</li>
<li>
<p>기본구조가 이제 사용자가 로그인-&gt;컨테이너 생성(생성될때 포트 할당 및 맵핑만 하고 닫아둠)-&gt;사용자가 로그인한 토큰을 가진채로 internal/unlock/{**}에 인증-&gt;연결된 ttyd포트  (localhost:9000같은 주소)주소 응답-&gt;사용자를 internal/ping/{**}으로 넘기고 지속적으로 핑응답하도록-&gt;사용자는 ping페이지와 localhost탭이 같이 켜져있으면 지속적으로 사용가능-&gt;ping탭이 닫히면 3분안에 포트를 다시 닫음 이런식으로 만들었습니다</p>
<ul>
<li>3가지 방법중 3번 방법인 것 같은데 사용자가 터미널을 사용하고 있을 때는 외부 사람들도 접근 가능한거 아닌가요</li>
<li>
        <img src="/08.media/20250513065092.png" alt="Pasted image 20250513065092 (Image resource not found)" ></li>
</ul>
</li>
<li>
<p>[고건혁] [오전 2:28] 근데 구현은 일단했는데 포트 닫는 port DROP명령어가 macOS에는 없어서 현재 테스트가 안됩니다..아마 저희가 올리는 서버는 리눅스 기반이면 &ldquo;iptables -D INPUT -p tcp —dport &quot; + port + &quot; -j DROP&quot;이 명령어 실행이 가능해서 (관리자 권한으로 실행되어야함)가능할거 같긴한데 지금은 모르겠네요..</p>
<ul>
<li>이거는 해봐야 알 수 있을거 같은데 was 에서 관리자권한이 필요한 명령이 실행가능한지는 모르겠어요</li>
</ul>
</li>
<li>
<p>[고건혁] [오전 6:21] 컨테이너 상세 상태 stats연결 해보여고 했는데 현재 docker-java에서 2375포트 통해서 데몬 열고 받아오는 수 밖에 없어서 그걸 초간격으로 주기적으로 실행하면 기존에 열린 포트랑 충돌 나서 불가능 할거 같아요</p>
<ul>
<li>이 말이 정확히 무슨 말인지 이해가 안되는데 <code>한 번에 여러 개의 stats 연결을 동시에 여는 게 어려움</code> 이런 말인가요? &lt;- 이 문제는 조금 중요한 거 같아서 회의를 한번 해봐야 할 거 같아요</li>
</ul>
</li>
<li>
<p>[고건혁] [오전 6:26] 기본적인 상태 전송은 어차피 ping방식으로 해서 요청을 보내니까 그 요청의 응답으로 상태 전송하면 좋을거 같아서 ping엔트포인트에 응답으로 pong상태를 보내는 식으로 만들고 있습니다</p>
<ul>
<li>status 또는 stat 을 poling 또는 long Poiling 방식으로 구현하신다는 거죠?</li>
</ul>
</li>
</ul>

</article>


        
        <footer class="site-footer">
            
            <address>
                
            </address>
            <p>&copy; 2025 My Test Site. All rights reserved.</p>
        </footer>
    </main>

    
    <aside class="sidebar">
        <h3>최근 글</h3>
        <ul>
            
            <li><a href="http://localhost:1313/02.inbox/di-%EC%9D%98%EC%A1%B4%EC%84%B1-%EC%A3%BC%EC%9E%85-%EC%9D%98-%ED%83%80-%ED%94%84%EB%A0%88%EC%9E%84%EC%9B%8C%ED%81%AC-%EC%A0%91%EA%B7%BC-%EC%9C%A0%ED%8A%9C%EB%B8%8C-%EB%8C%93%EA%B8%80/">di (의존성 주입) 의 타 프레임워크 접근 유튜브 댓글</a></li>
            
            <li><a href="http://localhost:1313/%EB%AC%B4%EC%A0%9C-12/">무제 12</a></li>
            
            <li><a href="http://localhost:1313/temp/tmux/">tmux</a></li>
            
            <li><a href="http://localhost:1313/02.inbox/doxyzen-%ED%82%A4%EC%9B%8C%EB%93%9C/">Doxyzen 키워드</a></li>
            
            <li><a href="http://localhost:1313/university-algorizm/">university algorizm</a></li>
            
        </ul>

        <h3>태그</h3>
        
        
    </aside>
</body>
</html>