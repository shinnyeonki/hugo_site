<!DOCTYPE html>

<html lang="en-US"><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    
    
    
    
    <title>mju ecs 해야할 것 | My Test Site</title>
    

    
    
    <meta name="description" content="수정사항 PortAllocator (포트 배정 서비스 추가) 단순 http 요청 docker status 추가 용어 정리 (용어 혼재 사용) hostPort -&gt; containerPo 미해결 과제 포트 연결시 TCP 인지 UDP 인지도 선택여부에 두어야 하는가? …">

    
    
    <meta name="robots" content="index, follow">
    

    
    <link rel="canonical" href="http://localhost:1313/06.university/mju_ecs-project/mju-ecs-%ED%95%B4%EC%95%BC%ED%95%A0-%EA%B2%83/">

    
    
    
    <meta property="og:title" content="mju ecs 해야할 것">
    <meta property="og:description" content="수정사항 PortAllocator (포트 배정 서비스 추가) 단순 http 요청 docker status 추가 용어 정리 (용어 혼재 사용) hostPort -&gt; containerPo 미해결 과제 포트 연결시 TCP 인지 UDP 인지도 선택여부에 두어야 하는가? …">
    <meta property="og:url" content="http://localhost:1313/06.university/mju_ecs-project/mju-ecs-%ED%95%B4%EC%95%BC%ED%95%A0-%EA%B2%83/">
    <meta property="og:site_name" content="My Test Site">
    
    <meta property="og:type" content="blog">
    

    
    
    

    
    
    
    <meta name="twitter:card" content="summary_large_image">
    
    <meta name="twitter:title" content="mju ecs 해야할 것">
    <meta name="twitter:description" content="수정사항 PortAllocator (포트 배정 서비스 추가) 단순 http 요청 docker status 추가 용어 정리 (용어 혼재 사용) hostPort -&gt; containerPo 미해결 과제 포트 연결시 TCP 인지 UDP 인지도 선택여부에 두어야 하는가? …">
    

    
    
    

    
    <script src="https://cdn.tailwindcss.com?plugins=typography"></script>

</head><body>
    
     
    <header class="site-header">
        <div class="site-title">
            <a href="http://localhost:1313/">My Test Site</a>
        </div>
    </header>
    
    <nav class="site-nav">
        <ul>
            
        </ul>
    </nav>
    
    <main>
        
        
<article class="prose prose-sm lg:prose-base max-w-3xl mx-auto dk:prose-stone">
    <h1>mju ecs 해야할 것 **page.html**</h1>
    <h3 id="수정사항">수정사항</h3>
<ol>
<li>PortAllocator (포트 배정 서비스 추가)</li>
<li>단순 http 요청 docker status 추가</li>
<li>용어 정리 (용어 혼재 사용)
<ol>
<li>hostPort -&gt; containerPo
        <img src="/08.media/20250502160404.png" alt=" (Image resource not found)" ></li>
</ol>
</li>
<li></li>
</ol>
<h3 id="미해결-과제">미해결 과제</h3>
<ol>
<li>포트 연결시 TCP 인지 UDP 인지도 선택여부에 두어야 하는가?</li>
<li>컨테이너 삭제시 ttyd 또한 삭제가 필요 현재는 그대로 방치됨</li>
<li>도커 볼륨 관련</li>
<li></li>
</ol>
<p>현재 container.js 에서 너무 많은 일을 하고 있어
new_container.js 와 container.js 로 분리해줘</p>
<h3 id="container-table-과-ttyd-table">container table 과 ttyd table</h3>
<ol>
<li>container table 과 ttyd table 2개로 분리할 필요 없이 1개의 테이블에 있어도 되는 거 아닌가? (실시간 status 시)</li>
<li>  tydContainerId;                                   //ttyd 컨테이너 ID<br>
private String ttydHostPort;              //ttyd 호스트 포트<br>
// ttyd 컨테이너의 컨테이너 포트의 경우 고정되어 있으므로 필요 없음
필요 status</li>
<li>status 에 ttyd 접근 포트 필요함</li>
<li></li>
</ol>
<h3 id="나">나</h3>
<p>ttyd 실행시 포트 설정 =&gt; 직접 포트 접근 막기<br>
<a href="https://chat.qwen.ai/c/633a43de-01b2-4739-abbd-13139669c810" class="external-link" target="_blank" rel="noopener noreferrer" >https://chat.qwen.ai/c/633a43de-01b2-4739-abbd-13139669c810</a></p>
<table>
  <thead>
      <tr>
          <th>명령어</th>
          <th>이해</th>
          <th>상세</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td><code>-p 127.0.0.1:hostPort:containerPort</code></td>
          <td>로컬에서만 접근 가능</td>
          <td>host url 이 달라져도 localhost 로만 접근</td>
      </tr>
  </tbody>
</table>
<p>docker template 만들기<br>
docker document 만들기</p>
<p>서버 클라이언트 api 호환 마지막</p>
<h3 id="건혁님">건혁님</h3>
<p>forword endpoint<br>
status<br>
hostname</p>
<p>vscode (version 1.100)</p>
<h3 id="현재-도커-터미널-관련-아키텍쳐">현재 도커 터미널 관련 아키텍쳐</h3>
<p>터미널에 접근하는 것을 ttyd 로 했는데 1개의 터미널당 1개의 ttyd 컨테이너가 필요하고 ttyd 가 각 컨테이너의 프록시 역할을 해</p>
<p>이것은 아키텍쳐 적으로 너무 복잡해<br>
이것을 고치기 위해</p>
<ol>
<li>
<p>websocket 프론트 부분은 terminal.html?containerId={containerId}</p>
</li>
<li>
<p>프론트 부분은 xterm.js 로 구성</p>
</li>
<li>
<p>백엔드 부분은 spring websocket 으로 구성 (특정 도커와 적절히 연결)</p>
</li>
<li>
<p>마지막에 기존 ttyd 의존성 완전 삭제</p>
</li>
<li>
<p>백엔드</p>
<ol>
<li>WebSocket 설정 <code>WebSocketConfig.java</code></li>
<li>터미널 핸들러 작성 <code>TerminalWebSocketHandler.java</code></li>
<li>컨테이너 터미널 세션 관리 클래스 <code>DockerTerminalSessionManager.java</code></li>
<li>실제 터미널 실행 클래스 <code>DockerTerminalSession.java</code></li>
<li>Docker Java 클라이언트 확장 기능<code>DockerJavaClient.java</code> - 일부 메서드 추가</li>
<li>OutputStream 커스텀 클래스</li>
</ol>
</li>
<li>
<p>프론트엔드</p>
</li>
</ol>

</article>


        
        <footer class="site-footer">
            
            <address>
                
            </address>
            <p>&copy; 2025 My Test Site. All rights reserved.</p>
        </footer>
    </main>

    
    <aside class="sidebar">
        <h3>최근 글</h3>
        <ul>
            
            <li><a href="http://localhost:1313/signal-%EC%B0%A8%EC%9D%B4-unixmacos-vs-linux/">signal 차이 unix(macos) vs linux</a></li>
            
            <li><a href="http://localhost:1313/02.inbox/doxyzen-%ED%82%A4%EC%9B%8C%EB%93%9C/">Doxyzen 키워드</a></li>
            
            <li><a href="http://localhost:1313/02.inbox/%EB%B0%B1%EC%97%94%EB%93%9C-%EA%B5%AC%EC%A1%B0-%EB%B3%80%ED%99%94-%EC%97%AD%EC%82%AC/">백엔드 구조 변화 역사</a></li>
            
            <li><a href="http://localhost:1313/%EC%BD%94%EC%96%B4-%EB%8D%A4%ED%94%84core-dump/">코어 덤프(Core Dump)</a></li>
            
            <li><a href="http://localhost:1313/copilot/copilot-custom-prompts/translate-to-chinese/">Translate to Chinese</a></li>
            
        </ul>

        <h3>태그</h3>
        
        
    </aside>
</body>
</html>