<!DOCTYPE html>

<html lang="ko-KR"><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    
    
    
    
    <title>bash | My Test Site</title>
    

    
    
    <meta name="description" content="./ vs source == . 도트 및 소스 연산자 공식문서 source 와 . 은 완벽하게 동일 test.sh 파일
ps -ejH # 플로세스를 tree 형태로 보여주는 명령 실행별 차이
User@HostName:~/test$ . test.sh # . or …">

    
    
    <meta name="robots" content="index, follow">
    

    
    <link rel="canonical" href="http://localhost:1313/temp/bash/">

    
    
    
    <meta property="og:title" content="bash">
    <meta property="og:description" content="./ vs source == . 도트 및 소스 연산자 공식문서 source 와 . 은 완벽하게 동일 test.sh 파일
ps -ejH # 플로세스를 tree 형태로 보여주는 명령 실행별 차이
User@HostName:~/test$ . test.sh # . or …">
    <meta property="og:url" content="http://localhost:1313/temp/bash/">
    <meta property="og:site_name" content="My Test Site">
    
    <meta property="og:type" content="blog">
    

    
    
    

    
    
    
    <meta name="twitter:card" content="summary_large_image">
    
    <meta name="twitter:title" content="bash">
    <meta name="twitter:description" content="./ vs source == . 도트 및 소스 연산자 공식문서 source 와 . 은 완벽하게 동일 test.sh 파일
ps -ejH # 플로세스를 tree 형태로 보여주는 명령 실행별 차이
User@HostName:~/test$ . test.sh # . or …">
    

    
    
    

    
    <script src="https://cdn.tailwindcss.com?plugins=typography"></script>

</head><body>
    
     
    <header class="site-header">
        <div class="site-title">
            <a href="http://localhost:1313/">My Test Site</a>
        </div>
    </header>
    
    <nav class="site-nav">
        <ul>
            
        </ul>
    </nav>
    
    <main>
        
        
<article class="prose prose-sm lg:prose-base max-w-3xl mx-auto dk:prose-stone">
    <h1>bash **page.html**</h1>
    <h2 id="-vs-source--">./ vs source == .</h2>
<p><a href="https://ss64.com/bash/source.html" class="external-link" target="_blank" rel="noopener noreferrer" >도트 및 소스 연산자 공식문서</a>
source 와 . 은 완벽하게 동일
test.sh 파일</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>ps -ejH <span style="color:#75715e"># 플로세스를 tree 형태로 보여주는 명령</span>
</span></span></code></pre></div><p>실행별 차이</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>User@HostName:~/test$ . test.sh <span style="color:#75715e"># . or source </span>
</span></span><span style="display:flex;"><span>    PID    PGID     SID TTY          TIME CMD
</span></span><span style="display:flex;"><span>   <span style="color:#ae81ff">3996</span>    <span style="color:#ae81ff">3996</span>    <span style="color:#ae81ff">3996</span> ?        00:00:00     SessionLeader
</span></span><span style="display:flex;"><span>   <span style="color:#ae81ff">3998</span>    <span style="color:#ae81ff">3996</span>    <span style="color:#ae81ff">3996</span> ?        00:00:00       Relay<span style="color:#f92672">(</span>4003<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>   <span style="color:#ae81ff">4003</span>    <span style="color:#ae81ff">4003</span>    <span style="color:#ae81ff">4003</span> pts/6    00:00:00         bash
</span></span><span style="display:flex;"><span>  <span style="color:#ae81ff">39032</span>   <span style="color:#ae81ff">39032</span>    <span style="color:#ae81ff">4003</span> pts/6    00:00:00           ps 
</span></span><span style="display:flex;"><span>User@HostName:~/test$ ./test.sh <span style="color:#75715e"># ./</span>
</span></span><span style="display:flex;"><span>    PID    PGID     SID TTY          TIME CMD
</span></span><span style="display:flex;"><span>   <span style="color:#ae81ff">3996</span>    <span style="color:#ae81ff">3996</span>    <span style="color:#ae81ff">3996</span> ?        00:00:00     SessionLeader
</span></span><span style="display:flex;"><span>   <span style="color:#ae81ff">3998</span>    <span style="color:#ae81ff">3996</span>    <span style="color:#ae81ff">3996</span> ?        00:00:00       Relay<span style="color:#f92672">(</span>4003<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>   <span style="color:#ae81ff">4003</span>    <span style="color:#ae81ff">4003</span>    <span style="color:#ae81ff">4003</span> pts/6    00:00:00         bash
</span></span><span style="display:flex;"><span>  <span style="color:#ae81ff">39255</span>   <span style="color:#ae81ff">39255</span>    <span style="color:#ae81ff">4003</span> pts/6    00:00:00           test.sh <span style="color:#75715e"># !!!!!!!!!</span>
</span></span><span style="display:flex;"><span>  <span style="color:#ae81ff">39256</span>   <span style="color:#ae81ff">39255</span>    <span style="color:#ae81ff">4003</span> pts/6    00:00:00             ps
</span></span></code></pre></div><p>./test.sh의 경우 다른 명령(gcc)와 마찬가지로 명령을 셸에서 해석하여 시스템에게 전달하며 새로운 프로세스<u> fork() 형태로 하위 프로세스로 생성한다?</u> #ModificationRequired</p>
<p>하지만</p>
<p>. test.sh 또는 source test.sh 의 경우는 현재 실행되고 있는 셸이 직접 실행하는 것이다 그로므로 test.sh 에 선언된 전역변수가 현재 셸에 적용된다</p>
<p>bash 파일 실행시 interactive shell 인가 non interactive shell 인가의 차이
일반 파일 실행시</p>
<p>이 코드는 Bash 스크립트로, 깃 상태 정보를 비동기적으로 반환하는 데몬 프로세스인 <code>gitstatusd</code>를 시작하는 데 사용됩니다. 스크립트의 각 부분을 하나씩 분석해 보겠습니다.</p>
<h2 id="1-bash-버전-확인">1. Bash 버전 확인</h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#66d9ef">if</span> <span style="color:#f92672">[</span> <span style="color:#e6db74">&#34;</span>$BASH_VERSION<span style="color:#e6db74">&#34;</span> &lt; <span style="color:#ae81ff">4</span> <span style="color:#f92672">](</span>%20<span style="color:#e6db74">&#34;</span>$BASH_VERSION<span style="color:#e6db74">&#34;</span>%20&lt;%204%20<span style="color:#f92672">)</span>; <span style="color:#66d9ef">then</span>
</span></span><span style="display:flex;"><span>   <span style="color:#75715e"># 에러 메시지를 표준 에러(stderr)에 출력하고 함수를 종료합니다.</span>
</span></span><span style="display:flex;"><span>   <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">fi</span>
</span></span></code></pre></div><p>이 부분은 현재 실행 중인 Bash의 버전이 4.0 이상인지 확인합니다. 그렇지 않다면, 사용자에게 메시지를 출력하고 함수를 종료합니다.</p>
<h2 id="2-옵션-파싱">2. 옵션 파싱</h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>unset OPTIND
</span></span><span style="display:flex;"><span>local opt timeout<span style="color:#f92672">=</span><span style="color:#ae81ff">5</span> max_dirty<span style="color:#f92672">=</span>-1 ttl<span style="color:#f92672">=</span><span style="color:#ae81ff">3600</span> extra_flags<span style="color:#f92672">=</span>...
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">while</span> getopts <span style="color:#e6db74">&#34;t:s:u:c:d:m:r:eUWD&#34;</span> opt; <span style="color:#66d9ef">do</span>
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">case</span> <span style="color:#e6db74">&#34;</span>$opt<span style="color:#e6db74">&#34;</span> in
</span></span><span style="display:flex;"><span>    ...
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">esac</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">done</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">((</span> OPTIND <span style="color:#f92672">==</span> $# + <span style="color:#ae81ff">1</span> <span style="color:#f92672">))</span> <span style="color:#f92672">||</span> <span style="color:#f92672">{</span> echo <span style="color:#e6db74">&#34;usage: gitstatus_start [OPTION]...&#34;</span> &gt;&amp;2; <span style="color:#66d9ef">return</span> 1; <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span> -z <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">${</span>GITSTATUS_DAEMON_PID<span style="color:#66d9ef">:-</span><span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span> <span style="color:#f92672">](</span>%20-z%20<span style="color:#e6db74">&#34;</span><span style="color:#e6db74">${</span>GITSTATUS_DAEMON_PID<span style="color:#66d9ef">:-</span><span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>%20<span style="color:#f92672">)</span> <span style="color:#f92672">||</span> <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>
</span></span></code></pre></div><p>스크립트 실행 시 전달된 명령줄 옵션들을 처리합니다. <code>getopts</code> 빌트인을 사용하여 각각의 옵션에 대한 값을 지역 변수에 할당합니다.</p>
<h2 id="3-플러그인-디렉터리-설정">3. 플러그인 디렉터리 설정</h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#66d9ef">if</span> <span style="color:#f92672">[</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">${</span>BASH_SOURCE[0](%20<span style="color:#e6db74">&#34;</span><span style="color:#e6db74">${</span>BASH_SOURCE[0); then
</span></span><span style="display:flex;"><span>   ...
</span></span><span style="display:flex;"><span>fi
</span></span></code></pre></div><p><code>gitstatus_plugin_dir</code> 변수는 스크립트 파일이 있는 디렉터리 경로를 설정합니다. 이 경로는 후속 명령어에서 사용됩니다.</p>
<h2 id="4-gitstatus_start_impl-함수">4. <code>gitstatus_start_impl</code> 함수</h2>
<p>이 함수는 데몬 프로세스를 시작하고, 필요한 파일 FIFO (First-In First-Out) 특수 파일을 생성 및 구성하고, 데몬과 통신을 설정합니다.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#66d9ef">function</span> gitstatus_start_impl<span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>   ...
</span></span><span style="display:flex;"><span><span style="color:#f92672">}</span>
</span></span></code></pre></div><h2 id="5-tmpdir-설정-및-fifo-파일-생성">5. tmpdir 설정 및 FIFO 파일 생성</h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>tmpdir<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;</span><span style="color:#66d9ef">$(</span>command mktemp -d <span style="color:#e6db74">&#34;</span>$tmpdir<span style="color:#e6db74">&#34;</span>/gitstatus.bash.$$.XXXXXXXXXX<span style="color:#66d9ef">)</span><span style="color:#e6db74">&#34;</span> <span style="color:#f92672">||</span> <span style="color:#66d9ef">return</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>command mkfifo -- <span style="color:#e6db74">&#34;</span>$req_fifo<span style="color:#e6db74">&#34;</span> <span style="color:#e6db74">&#34;</span>$resp_fifo<span style="color:#e6db74">&#34;</span> <span style="color:#f92672">||</span> <span style="color:#66d9ef">return</span>
</span></span></code></pre></div><p>임시 디렉터리를 생성하고, 데몬에 요청을 보내고 응답을 받는데 사용될 FIFO 파일을 만듭니다.</p>
<h2 id="6-데몬-프로세스-시작">6. 데몬 프로세스 시작</h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>source <span style="color:#e6db74">&#34;</span>$gitstatus_plugin_dir<span style="color:#e6db74">&#34;</span>/install      <span style="color:#f92672">||</span> <span style="color:#66d9ef">return</span>
</span></span><span style="display:flex;"><span><span style="color:#e6db74">&#34;</span>$_gitstatus_bash_daemon<span style="color:#e6db74">&#34;</span> ... &lt;&amp;<span style="color:#e6db74">&#34;</span>$fd_in<span style="color:#e6db74">&#34;</span> &gt;&amp;<span style="color:#e6db74">&#34;</span>$fd_out<span style="color:#e6db74">&#34;</span> &amp;
</span></span></code></pre></div><p><code>install</code> 스크립트를 소스화 함으로써 데몬 프로세스를 가져오고 구동합니다.</p>
<h2 id="7-파일-디스크립터-할당-및-정리">7. 파일 디스크립터 할당 및 정리</h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>exec <span style="color:#f92672">{</span>_GITSTATUS_REQ_FD<span style="color:#f92672">}</span>&gt;&gt;<span style="color:#e6db74">&#34;</span>$req_fifo<span style="color:#e6db74">&#34;</span> <span style="color:#f92672">{</span>_GITSTATUS_RESP_FD<span style="color:#f92672">}</span>&lt;<span style="color:#e6db74">&#34;</span>$resp_fifo<span style="color:#e6db74">&#34;</span> <span style="color:#f92672">||</span> <span style="color:#66d9ef">return</span>
</span></span><span style="display:flex;"><span>command rm -f -- <span style="color:#e6db74">&#34;</span>$req_fifo<span style="color:#e6db74">&#34;</span> <span style="color:#e6db74">&#34;</span>$resp_fifo<span style="color:#e6db74">&#34;</span>                                 <span style="color:#f92672">||</span> <span style="color:#66d9ef">return</span>
</span></span></code></pre></div><p>읽기 및 쓰기 작업을 위해 파일 디스크립터를 FIFO 파일에 할당하고, 더 이상 필요하지 않은 파일은 제거합니다.</p>
<h2 id="8-데몬-초기화-확인">8. 데몬 초기화 확인</h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>IFS<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;&#39;</span> read -r -u $_GITSTATUS_RESP_FD GITSTATUS_DAEMON_PID <span style="color:#f92672">||</span> <span style="color:#66d9ef">return</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span> <span style="color:#e6db74">&#34;</span>$GITSTATUS_DAEMON_PID<span style="color:#e6db74">&#34;</span> <span style="color:#f92672">==</span> <span style="color:#f92672">[</span>1-9<span style="color:#f92672">](</span>%20<span style="color:#e6db74">&#34;</span>$GITSTATUS_DAEMON_PID<span style="color:#e6db74">&#34;</span>%20<span style="color:#f92672">==</span>%20<span style="color:#f92672">[</span>1-9<span style="color:#f92672">)</span> <span style="color:#f92672">||</span> <span style="color:#66d9ef">return</span>
</span></span></code></pre></div><p>데몬 프로세스가 성공적으로 시작되었는지 확인하고, 그 PID를 저장합니다.</p>
<h2 id="9-청소">9. 청소</h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>unset -f gitstatus_start_impl
</span></span></code></pre></div><p>필요하지 않은 함수를 삭제하고, 청소 작업을 수행합니다.</p>
<h2 id="10-환경-변수-내보내기">10. 환경 변수 내보내기</h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>export _GITSTATUS_CLIENT_PID _GITSTATUS_REQ_FD _GITSTATUS_RESP_FD GITSTATUS_DAEMON_PID
</span></span></code></pre></div><p>데몬 관련 변수를 내보내어 다른 스크립트에서 사용할 수 있게 합니다.</p>
<h2 id="전체적인-요약">전체적인 요약</h2>
<p>이 스크립트는 <code>gitstatusd</code> 데몬을 시작하고, 해당 데몬과 통신할 수 있게 준비하는 일련의 과정을 수행합니다. 이를 통해 git 저장소의 상태 정보를 빠르게 제공받을 수 있으며, 쉘 프롬프트를 더 효율적으로 만들어 주는 기능을 제공합니다.</p>
<p>=======================</p>
<p>이 코드는 <code>gitstatus_start</code>라는 함수를 정의하고 있습니다. 이 함수는 git 상태를 빠르게 가져오는데 사용되는 <code>gitstatusd</code> 데몬을 시작하는 역할을 합니다. 각 부분의 목적과 문법은 다음과 같습니다:</p>
<ol>
<li><strong>BASH 버전 확인</strong>: 이 코드는 BASH 버전이 4.0 이상인지 확인합니다. 이는 <code>gitstatusd</code>가 BASH 4.0 이상에서만 작동하기 때문입니다.</li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#66d9ef">if</span> <span style="color:#f92672">[</span> <span style="color:#e6db74">&#34;</span>$BASH_VERSION<span style="color:#e6db74">&#34;</span> &lt; <span style="color:#ae81ff">4</span> <span style="color:#f92672">](</span>%20<span style="color:#e6db74">&#34;</span>$BASH_VERSION<span style="color:#e6db74">&#34;</span>%20&lt;%204%20<span style="color:#f92672">)</span>; <span style="color:#66d9ef">then</span>
</span></span><span style="display:flex;"><span>  &gt;&amp;<span style="color:#ae81ff">2</span> printf <span style="color:#e6db74">&#39;gitstatus_start: need bash version &gt;= 4.0, found %s\n&#39;</span> <span style="color:#e6db74">&#34;</span>$BASH_VERSION<span style="color:#e6db74">&#34;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">fi</span>
</span></span></code></pre></div><ol start="2">
<li><strong>옵션 파싱</strong>: <code>getopts</code>를 사용하여 함수에 전달된 옵션을 파싱합니다. 각 옵션은 <code>gitstatusd</code>의 동작을 조정하는데 사용됩니다.</li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>unset OPTIND
</span></span><span style="display:flex;"><span>local opt timeout<span style="color:#f92672">=</span><span style="color:#ae81ff">5</span> max_dirty<span style="color:#f92672">=</span>-1 ttl<span style="color:#f92672">=</span><span style="color:#ae81ff">3600</span> extra_flags<span style="color:#f92672">=</span>
</span></span><span style="display:flex;"><span>local max_num_staged<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span> max_num_unstaged<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span> max_num_conflicted<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span> max_num_untracked<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">while</span> getopts <span style="color:#e6db74">&#34;t:s:u:c:d:m:r:eUWD&#34;</span> opt; <span style="color:#66d9ef">do</span>
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">case</span> <span style="color:#e6db74">&#34;</span>$opt<span style="color:#e6db74">&#34;</span> in
</span></span><span style="display:flex;"><span>    t<span style="color:#f92672">)</span> timeout<span style="color:#f92672">=</span>$OPTARG;;
</span></span><span style="display:flex;"><span>    s<span style="color:#f92672">)</span> max_num_staged<span style="color:#f92672">=</span>$OPTARG;;
</span></span><span style="display:flex;"><span>    u<span style="color:#f92672">)</span> max_num_unstaged<span style="color:#f92672">=</span>$OPTARG;;
</span></span><span style="display:flex;"><span>    c<span style="color:#f92672">)</span> max_num_conflicted<span style="color:#f92672">=</span>$OPTARG;;
</span></span><span style="display:flex;"><span>    d<span style="color:#f92672">)</span> max_num_untracked<span style="color:#f92672">=</span>$OPTARG;;
</span></span><span style="display:flex;"><span>    m<span style="color:#f92672">)</span> max_dirty<span style="color:#f92672">=</span>$OPTARG;;
</span></span><span style="display:flex;"><span>    r<span style="color:#f92672">)</span> ttl<span style="color:#f92672">=</span>$OPTARG;;
</span></span><span style="display:flex;"><span>    e<span style="color:#f92672">)</span> extra_flags<span style="color:#f92672">+=</span><span style="color:#e6db74">&#39;--recurse-untracked-dirs &#39;</span>;;
</span></span><span style="display:flex;"><span>    U<span style="color:#f92672">)</span> extra_flags<span style="color:#f92672">+=</span><span style="color:#e6db74">&#39;--ignore-status-show-untracked-files &#39;</span>;;
</span></span><span style="display:flex;"><span>    W<span style="color:#f92672">)</span> extra_flags<span style="color:#f92672">+=</span><span style="color:#e6db74">&#39;--ignore-bash-show-untracked-files &#39;</span>;;
</span></span><span style="display:flex;"><span>    D<span style="color:#f92672">)</span> extra_flags<span style="color:#f92672">+=</span><span style="color:#e6db74">&#39;--ignore-bash-show-dirty-state &#39;</span>;;
</span></span><span style="display:flex;"><span>    *<span style="color:#f92672">)</span> <span style="color:#66d9ef">return</span> 1;;
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">esac</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">done</span>
</span></span></code></pre></div><ol start="3">
<li><strong>데몬 시작</strong>: <code>gitstatusd</code> 데몬을 시작합니다. 데몬은 백그라운드에서 실행되며, git 상태 정보를 빠르게 가져오는데 사용됩니다.</li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#66d9ef">if</span> <span style="color:#f92672">[</span> -z <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">${</span>GITSTATUS_DAEMON_PID<span style="color:#66d9ef">:-</span><span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span> <span style="color:#f92672">](</span>%20-z%20<span style="color:#e6db74">&#34;</span><span style="color:#e6db74">${</span>GITSTATUS_DAEMON_PID<span style="color:#66d9ef">:-</span><span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>%20<span style="color:#f92672">)</span>; <span style="color:#66d9ef">then</span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e"># 데몬 시작 코드...</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">fi</span>
</span></span></code></pre></div><ol start="4">
<li><strong>데몬 초기화 실패 처리</strong>: 만약 <code>gitstatusd</code> 데몬이 제대로 시작되지 않았다면, 오류 메시지를 출력하고 함수를 종료합니다.</li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#66d9ef">if</span> ! gitstatus_start_impl; <span style="color:#66d9ef">then</span>
</span></span><span style="display:flex;"><span>  &gt;&amp;<span style="color:#ae81ff">2</span> printf <span style="color:#e6db74">&#39;[\033[31mERROR\033[0m]: gitstatus failed to initialize.\n&#39;</span>
</span></span><span style="display:flex;"><span>  gitstatus_stop
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">fi</span>
</span></span></code></pre></div><p>이 함수는 <code>gitstatusd</code> 데몬을 효율적으로 관리하고, git 상태 정보를 빠르게 가져오는 기능을 제공합니다. 이는 git 저장소가 매우 큰 경우에 유용하며, git 상태 정보를 표시하는 프롬프트를 빠르게 업데이트하는 데 사용될 수 있습니다. 이 함수는 <code>gitstatus</code> 플러그인의 일부입니다. 이 플러그인은 Zsh 및 Bash 쉘에서 사용할 수 있습니다.</p>

</article>


        
        <footer class="site-footer">
            
            <address>
                
            </address>
            <p>&copy; 2025 My Test Site. All rights reserved.</p>
        </footer>
    </main>

    
    <aside class="sidebar">
        <h3>최근 글</h3>
        <ul>
            
            <li><a href="http://localhost:1313/02.inbox/di-%EC%9D%98%EC%A1%B4%EC%84%B1-%EC%A3%BC%EC%9E%85-%EC%9D%98-%ED%83%80-%ED%94%84%EB%A0%88%EC%9E%84%EC%9B%8C%ED%81%AC-%EC%A0%91%EA%B7%BC-%EC%9C%A0%ED%8A%9C%EB%B8%8C-%EB%8C%93%EA%B8%80/">di (의존성 주입) 의 타 프레임워크 접근 유튜브 댓글</a></li>
            
            <li><a href="http://localhost:1313/%EB%AC%B4%EC%A0%9C-12/">무제 12</a></li>
            
            <li><a href="http://localhost:1313/temp/tmux/">tmux</a></li>
            
            <li><a href="http://localhost:1313/02.inbox/doxyzen-%ED%82%A4%EC%9B%8C%EB%93%9C/">Doxyzen 키워드</a></li>
            
            <li><a href="http://localhost:1313/university-algorizm/">university algorizm</a></li>
            
        </ul>

        <h3>태그</h3>
        
        
    </aside>
</body>
</html>