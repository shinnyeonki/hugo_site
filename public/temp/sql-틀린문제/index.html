<!DOCTYPE html>

<html lang="en-US"><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    
    
    
    
    <title>sql 틀린문제 | My Test Site</title>
    

    
    
    <meta name="description" content="null 의 비교연산 null
where referee_id!=2 or referee_id = null -- 틀린답 이 아닌 where referee_id!=2 or referee_id is null -- 이것이 맞는 답 SQL에서 NULL 값은 특별하게 취급되며, …">

    
    
    <meta name="robots" content="index, follow">
    

    
    <link rel="canonical" href="http://localhost:1313/temp/sql-%ED%8B%80%EB%A6%B0%EB%AC%B8%EC%A0%9C/">

    
    
    
    <meta property="og:title" content="sql 틀린문제">
    <meta property="og:description" content="null 의 비교연산 null
where referee_id!=2 or referee_id = null -- 틀린답 이 아닌 where referee_id!=2 or referee_id is null -- 이것이 맞는 답 SQL에서 NULL 값은 특별하게 취급되며, …">
    <meta property="og:url" content="http://localhost:1313/temp/sql-%ED%8B%80%EB%A6%B0%EB%AC%B8%EC%A0%9C/">
    <meta property="og:site_name" content="My Test Site">
    
    <meta property="og:type" content="blog">
    

    
    
    

    
    
    
    <meta name="twitter:card" content="summary_large_image">
    
    <meta name="twitter:title" content="sql 틀린문제">
    <meta name="twitter:description" content="null 의 비교연산 null
where referee_id!=2 or referee_id = null -- 틀린답 이 아닌 where referee_id!=2 or referee_id is null -- 이것이 맞는 답 SQL에서 NULL 값은 특별하게 취급되며, …">
    

    
    
    

    
    <script src="https://cdn.tailwindcss.com?plugins=typography"></script>

</head><body>
    
     
    <header class="site-header">
        <div class="site-title">
            <a href="http://localhost:1313/">My Test Site</a>
        </div>
    </header>
    
    <nav class="site-nav">
        <ul>
            
        </ul>
    </nav>
    
    <main>
        
        
<article class="prose prose-sm lg:prose-base max-w-3xl mx-auto dk:prose-stone">
    <h1>sql 틀린문제 **page.html**</h1>
    <h2 id="null-의-비교연산">null 의 비교연산</h2>
<p>null</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#66d9ef">where</span> referee_id<span style="color:#f92672">!=</span><span style="color:#ae81ff">2</span> <span style="color:#66d9ef">or</span> referee_id <span style="color:#f92672">=</span> <span style="color:#66d9ef">null</span> <span style="color:#75715e">-- 틀린답
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#960050;background-color:#1e0010">이</span> <span style="color:#960050;background-color:#1e0010">아닌</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">where</span> referee_id<span style="color:#f92672">!=</span><span style="color:#ae81ff">2</span> <span style="color:#66d9ef">or</span> referee_id <span style="color:#66d9ef">is</span> <span style="color:#66d9ef">null</span> <span style="color:#75715e">-- 이것이 맞는 답
</span></span></span></code></pre></div><p>SQL에서 NULL 값은 특별하게 취급되며, NULL은 &lsquo;값이 없음&rsquo;을 의미합니다. 따라서, NULL 값은 다른 값들과 일반적인 비교 연산자(=, !=, &lt;, &gt;, 등)로 비교할 수 없습니다. NULL과의 비교는 IS NULL 또는 IS NOT NULL 연산자를 사용해야만 합니다.</p>
<h2 id="not-in-문제">not in 문제</h2>
<p>visits table and transactions table 이 존재 방문했지만 거래를 하지 않은 고객을 식별하려면 방문한 모든 고객의 목록에서 거래를 한 고객의 기록을 제거해야 합니다. 이를 통해 이 문제를 일반적인 &ldquo;NOT IN&rdquo; 문제로 변환합니다. &ldquo;NOT IN&rdquo; 문제를 해결하는 방법은 크게 두 가지입니다:</p>
<ol>
<li>NOT IN/EX와 유사한 기능을 직접 사용하거나</li>
<li>오른쪽 테이블이 NULL로 설정된 LEFT OUTER JOIN 입니다.</li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#75715e">-- left outer join
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">select</span> customer_id, <span style="color:#66d9ef">count</span>(visit_id) <span style="color:#66d9ef">as</span> count_no_trans
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">from</span> visits <span style="color:#66d9ef">left</span> <span style="color:#66d9ef">join</span> transactions <span style="color:#66d9ef">using</span>(visit_id)
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">where</span> transaction_id <span style="color:#66d9ef">is</span> <span style="color:#66d9ef">null</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">group</span> <span style="color:#66d9ef">by</span> customer_id
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#75715e">-- not in 
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">select</span> customer_id, <span style="color:#66d9ef">count</span>(visit_id) <span style="color:#66d9ef">as</span> count_no_trans
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">from</span> visits
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">where</span> visits.visit_id <span style="color:#66d9ef">not</span> <span style="color:#66d9ef">in</span> (<span style="color:#66d9ef">select</span> visit_id <span style="color:#66d9ef">from</span> transactions)
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">group</span> <span style="color:#66d9ef">by</span> customer_id
</span></span></code></pre></div><h2 id="leetcode-1661">leetcode 1661</h2>
<p><a href="https://leetcode.com/problems/average-time-of-process-per-machine/editorial/?envType=study-plan-v2&amp;envId=top-sql-50" class="external-link" target="_blank" rel="noopener noreferrer" >leetcode 원본 문제 링크</a></p>
<p>group by 에서 새로운 relation 이 생성된다고 생각하고 참여하지 않은 attribute 는 사용할 수 없다고 생각한다면 아래와 같은답을 내였다</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#66d9ef">select</span> d.machine_id, round(<span style="color:#66d9ef">sum</span>(d.timesub)<span style="color:#f92672">/</span><span style="color:#66d9ef">count</span>(d.timesub),<span style="color:#ae81ff">3</span>) <span style="color:#66d9ef">as</span> processing_time
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">from</span> (
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">select</span> a.machine_id, a.process_id, round(b.<span style="color:#66d9ef">timestamp</span> <span style="color:#f92672">-</span> a.<span style="color:#66d9ef">timestamp</span>, <span style="color:#ae81ff">3</span>) <span style="color:#66d9ef">as</span> timesub
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">from</span> Activity <span style="color:#66d9ef">as</span> a <span style="color:#66d9ef">join</span> Activity <span style="color:#66d9ef">as</span> b
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">where</span>
</span></span><span style="display:flex;"><span>		a.machine_id <span style="color:#f92672">=</span> b.machine_id <span style="color:#66d9ef">and</span>
</span></span><span style="display:flex;"><span>		a.process_id <span style="color:#f92672">=</span> b.process_id <span style="color:#66d9ef">and</span>
</span></span><span style="display:flex;"><span>		a.activity_type <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;start&#39;</span> <span style="color:#66d9ef">and</span>
</span></span><span style="display:flex;"><span>		b.activity_type <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;end&#39;</span>
</span></span><span style="display:flex;"><span>		) <span style="color:#66d9ef">as</span> d
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">group</span> <span style="color:#66d9ef">by</span> d.machine_id
</span></span></code></pre></div><p>하지만 group by 에서 참여하지 않은 attribute 도 사용할 수 있다면 또한 문제에 제시된 답은 아래답이다</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#66d9ef">select</span> a.machine_id, round(<span style="color:#66d9ef">avg</span>(b.<span style="color:#66d9ef">timestamp</span> <span style="color:#f92672">-</span> a.<span style="color:#66d9ef">timestamp</span>),<span style="color:#ae81ff">3</span>) <span style="color:#66d9ef">as</span> processing_time
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">from</span> Activity <span style="color:#66d9ef">as</span> a <span style="color:#66d9ef">join</span> Activity <span style="color:#66d9ef">as</span> b
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">where</span>
</span></span><span style="display:flex;"><span>	a.machine_id <span style="color:#f92672">=</span> b.machine_id <span style="color:#66d9ef">and</span>
</span></span><span style="display:flex;"><span>	a.process_id <span style="color:#f92672">=</span> b.process_id <span style="color:#66d9ef">and</span>
</span></span><span style="display:flex;"><span>	a.activity_type <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;start&#39;</span> <span style="color:#66d9ef">and</span>
</span></span><span style="display:flex;"><span>	b.activity_type <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;end&#39;</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">group</span> <span style="color:#66d9ef">by</span> a.machine_id
</span></span></code></pre></div><p>하지만 위의 2개 접근 (사실은 동일한 접근) 은 두개의 table을 조인 연산하여 select 문에서 산술연산을 통해 processing_time 을 산출 하는 것이 주된 접근으로 보이는데
사실은 두개의 table 을 join 하지 않고도 case 문 일종의 if 문으로 계산이 가능하다</p>

</article>


        
        <footer class="site-footer">
            
            <address>
                
            </address>
            <p>&copy; 2025 My Test Site. All rights reserved.</p>
        </footer>
    </main>

    
    <aside class="sidebar">
        <h3>최근 글</h3>
        <ul>
            
            <li><a href="http://localhost:1313/signal-%EC%B0%A8%EC%9D%B4-unixmacos-vs-linux/">signal 차이 unix(macos) vs linux</a></li>
            
            <li><a href="http://localhost:1313/02.inbox/doxyzen-%ED%82%A4%EC%9B%8C%EB%93%9C/">Doxyzen 키워드</a></li>
            
            <li><a href="http://localhost:1313/02.inbox/%EB%B0%B1%EC%97%94%EB%93%9C-%EA%B5%AC%EC%A1%B0-%EB%B3%80%ED%99%94-%EC%97%AD%EC%82%AC/">백엔드 구조 변화 역사</a></li>
            
            <li><a href="http://localhost:1313/%EC%BD%94%EC%96%B4-%EB%8D%A4%ED%94%84core-dump/">코어 덤프(Core Dump)</a></li>
            
            <li><a href="http://localhost:1313/copilot/copilot-custom-prompts/translate-to-chinese/">Translate to Chinese</a></li>
            
        </ul>

        <h3>태그</h3>
        
        
    </aside>
</body>
</html>