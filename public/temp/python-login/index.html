<!DOCTYPE html>

<html lang="en-US"><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    
    
    
    
    <title> | My Test Site</title>
    

    
    
    <meta name="description" content="refresh_token은 JWT 인증 시스템에서 중요한 역할을 합니다. 일반적으로 access_token은 짧은 유효 기간을 가지며, 클라이언트가 보호된 리소스에 접근할 때 사용됩니다. 반면, refresh_token은 긴 유효 기간을 가지며, 만료된 …">

    
    
    <meta name="robots" content="index, follow">
    

    
    <link rel="canonical" href="http://localhost:1313/temp/python-login/">

    
    
    
    <meta property="og:title" content="">
    <meta property="og:description" content="refresh_token은 JWT 인증 시스템에서 중요한 역할을 합니다. 일반적으로 access_token은 짧은 유효 기간을 가지며, 클라이언트가 보호된 리소스에 접근할 때 사용됩니다. 반면, refresh_token은 긴 유효 기간을 가지며, 만료된 …">
    <meta property="og:url" content="http://localhost:1313/temp/python-login/">
    <meta property="og:site_name" content="My Test Site">
    
    <meta property="og:type" content="blog">
    

    
    
    

    
    
    
    <meta name="twitter:card" content="summary_large_image">
    
    <meta name="twitter:title" content="">
    <meta name="twitter:description" content="refresh_token은 JWT 인증 시스템에서 중요한 역할을 합니다. 일반적으로 access_token은 짧은 유효 기간을 가지며, 클라이언트가 보호된 리소스에 접근할 때 사용됩니다. 반면, refresh_token은 긴 유효 기간을 가지며, 만료된 …">
    

    
    
    

    
    <script src="https://cdn.tailwindcss.com?plugins=typography"></script>

</head><body>
    
     
    <header class="site-header">
        <div class="site-title">
            <a href="http://localhost:1313/">My Test Site</a>
        </div>
    </header>
    
    <nav class="site-nav">
        <ul>
            
        </ul>
    </nav>
    
    <main>
        
        
<article class="prose prose-sm lg:prose-base max-w-3xl mx-auto dk:prose-stone">
    <h1> **page.html**</h1>
    <p><code>refresh_token</code>은 JWT 인증 시스템에서 중요한 역할을 합니다. 일반적으로 <code>access_token</code>은 짧은 유효 기간을 가지며, 클라이언트가 보호된 리소스에 접근할 때 사용됩니다. 반면, <code>refresh_token</code>은 긴 유효 기간을 가지며, 만료된 <code>access_token</code>을 갱신하는 데 사용됩니다. 이를 통해 사용자는 매번 로그인하지 않고도 안전하게 세션을 유지할 수 있습니다.</p>
<p>현재 코드에서는 <code>access_token</code>만 발행하고 있으며, <code>refresh_token</code>이 누락되어 있습니다. 이를 추가하여 완전한 JWT 인증 시스템을 구현해보겠습니다.</p>
<hr>
<h3 id="1-refresh_token-추가를-위한-설정">1. <code>refresh_token</code> 추가를 위한 설정</h3>
<p>Flask-JWT-Extended는 <code>create_refresh_token()</code> 함수를 제공하며, 이를 사용하여 <code>refresh_token</code>을 생성할 수 있습니다. 또한, <code>@jwt_required(refresh=True)</code> 데코레이터를 사용하여 <code>refresh_token</code>을 검증하고 새로운 <code>access_token</code>을 발급할 수 있습니다.</p>
<hr>
<h3 id="2-최종-코드-refresh-token-포함">2. 최종 코드 (Refresh Token 포함)</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">from</span> flask <span style="color:#f92672">import</span> Flask, request, jsonify
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> flask_jwt_extended <span style="color:#f92672">import</span> (
</span></span><span style="display:flex;"><span>    JWTManager,
</span></span><span style="display:flex;"><span>    create_access_token,
</span></span><span style="display:flex;"><span>    create_refresh_token,
</span></span><span style="display:flex;"><span>    jwt_required,
</span></span><span style="display:flex;"><span>    get_jwt_identity,
</span></span><span style="display:flex;"><span>    verify_jwt_in_request,
</span></span><span style="display:flex;"><span>    verify_jwt_in_request_optional,
</span></span><span style="display:flex;"><span>)
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> requests
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>app <span style="color:#f92672">=</span> Flask(__name__)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># JWT 설정</span>
</span></span><span style="display:flex;"><span>app<span style="color:#f92672">.</span>config[<span style="color:#e6db74">&#39;JWT_SECRET_KEY&#39;</span>] <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;your_jwt_secret_key&#39;</span>  <span style="color:#75715e"># 실제 서비스에서는 보안적으로 안전한 값을 사용하세요.</span>
</span></span><span style="display:flex;"><span>jwt <span style="color:#f92672">=</span> JWTManager(app)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 로그인 API 엔드포인트</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">@app.route</span>(<span style="color:#e6db74">&#39;/login&#39;</span>, methods<span style="color:#f92672">=</span>[<span style="color:#e6db74">&#39;POST&#39;</span>])
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">login</span>():
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># 클라이언트로부터 ID와 비밀번호 수신</span>
</span></span><span style="display:flex;"><span>    user_id <span style="color:#f92672">=</span> request<span style="color:#f92672">.</span>json<span style="color:#f92672">.</span>get(<span style="color:#e6db74">&#39;id&#39;</span>, <span style="color:#66d9ef">None</span>)
</span></span><span style="display:flex;"><span>    user_password <span style="color:#f92672">=</span> request<span style="color:#f92672">.</span>json<span style="color:#f92672">.</span>get(<span style="color:#e6db74">&#39;password&#39;</span>, <span style="color:#66d9ef">None</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> <span style="color:#f92672">not</span> user_id <span style="color:#f92672">or</span> <span style="color:#f92672">not</span> user_password:
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> jsonify({<span style="color:#e6db74">&#34;msg&#34;</span>: <span style="color:#e6db74">&#34;ID와 비밀번호를 입력해주세요.&#34;</span>}), <span style="color:#ae81ff">400</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># 외부 API로 인증 요청</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">try</span>:
</span></span><span style="display:flex;"><span>        response <span style="color:#f92672">=</span> requests<span style="color:#f92672">.</span>post(
</span></span><span style="display:flex;"><span>            <span style="color:#e6db74">&#39;https://sso1.mju.ac.kr/mju/userCheck.do&#39;</span>,
</span></span><span style="display:flex;"><span>            data<span style="color:#f92672">=</span>{
</span></span><span style="display:flex;"><span>                <span style="color:#e6db74">&#39;id&#39;</span>: user_id,
</span></span><span style="display:flex;"><span>                <span style="color:#e6db74">&#39;passwrd&#39;</span>: user_password
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        )
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e"># JSON 응답 파싱</span>
</span></span><span style="display:flex;"><span>        api_response <span style="color:#f92672">=</span> response<span style="color:#f92672">.</span>json()
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e"># 로그인 성공 여부 확인</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> api_response<span style="color:#f92672">.</span>get(<span style="color:#e6db74">&#39;error&#39;</span>) <span style="color:#f92672">==</span> <span style="color:#e6db74">&#39;0000&#39;</span>:
</span></span><span style="display:flex;"><span>            <span style="color:#75715e"># JWT 토큰 생성</span>
</span></span><span style="display:flex;"><span>            access_token <span style="color:#f92672">=</span> create_access_token(identity<span style="color:#f92672">=</span>user_id)
</span></span><span style="display:flex;"><span>            refresh_token <span style="color:#f92672">=</span> create_refresh_token(identity<span style="color:#f92672">=</span>user_id)
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">return</span> jsonify(access_token<span style="color:#f92672">=</span>access_token, refresh_token<span style="color:#f92672">=</span>refresh_token), <span style="color:#ae81ff">200</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">else</span>:
</span></span><span style="display:flex;"><span>            <span style="color:#75715e"># 로그인 실패 메시지 반환</span>
</span></span><span style="display:flex;"><span>            error_message <span style="color:#f92672">=</span> api_response<span style="color:#f92672">.</span>get(<span style="color:#e6db74">&#39;error_message&#39;</span>, <span style="color:#e6db74">&#39;로그인 실패: 알 수 없는 오류&#39;</span>)
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">return</span> jsonify({<span style="color:#e6db74">&#34;msg&#34;</span>: error_message}), <span style="color:#ae81ff">401</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">except</span> <span style="color:#a6e22e">Exception</span> <span style="color:#66d9ef">as</span> e:
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> jsonify({<span style="color:#e6db74">&#34;msg&#34;</span>: <span style="color:#e6db74">f</span><span style="color:#e6db74">&#34;외부 API 요청 중 오류 발생: </span><span style="color:#e6db74">{</span>str(e)<span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>}), <span style="color:#ae81ff">500</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Refresh Token으로 Access Token 갱신</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">@app.route</span>(<span style="color:#e6db74">&#39;/refresh&#39;</span>, methods<span style="color:#f92672">=</span>[<span style="color:#e6db74">&#39;POST&#39;</span>])
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">@jwt_required</span>(refresh<span style="color:#f92672">=</span><span style="color:#66d9ef">True</span>)
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">refresh</span>():
</span></span><span style="display:flex;"><span>    current_user <span style="color:#f92672">=</span> get_jwt_identity()
</span></span><span style="display:flex;"><span>    new_access_token <span style="color:#f92672">=</span> create_access_token(identity<span style="color:#f92672">=</span>current_user)
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> jsonify(access_token<span style="color:#f92672">=</span>new_access_token), <span style="color:#ae81ff">200</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># before_request 훅을 사용하여 전역 보호 설정</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">@app.before_request</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">protect_routes</span>():
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># 로그인 경로와 Refresh Token 경로는 예외 처리</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> request<span style="color:#f92672">.</span>path <span style="color:#f92672">in</span> [<span style="color:#e6db74">&#39;/login&#39;</span>, <span style="color:#e6db74">&#39;/refresh&#39;</span>] <span style="color:#f92672">and</span> request<span style="color:#f92672">.</span>method <span style="color:#f92672">==</span> <span style="color:#e6db74">&#39;POST&#39;</span>:
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># JWT 토큰 검증</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">from</span> flask_jwt_extended <span style="color:#f92672">import</span> verify_jwt_in_request
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">try</span>:
</span></span><span style="display:flex;"><span>        verify_jwt_in_request()
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">except</span> <span style="color:#a6e22e">Exception</span> <span style="color:#66d9ef">as</span> e:
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> jsonify({<span style="color:#e6db74">&#34;msg&#34;</span>: <span style="color:#e6db74">&#34;토큰이 유효하지 않거나 누락되었습니다.&#34;</span>}), <span style="color:#ae81ff">401</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 테스트용 보호된 엔드포인트</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">@app.route</span>(<span style="color:#e6db74">&#39;/protected&#39;</span>, methods<span style="color:#f92672">=</span>[<span style="color:#e6db74">&#39;GET&#39;</span>])
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">@jwt_required</span>()
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">protected</span>():
</span></span><span style="display:flex;"><span>    current_user <span style="color:#f92672">=</span> get_jwt_identity()
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> jsonify(logged_in_as<span style="color:#f92672">=</span>current_user), <span style="color:#ae81ff">200</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">if</span> __name__ <span style="color:#f92672">==</span> <span style="color:#e6db74">&#39;__main__&#39;</span>:
</span></span><span style="display:flex;"><span>    app<span style="color:#f92672">.</span>run(debug<span style="color:#f92672">=</span><span style="color:#66d9ef">True</span>)
</span></span></code></pre></div><hr>
<h3 id="3-코드-설명">3. 코드 설명</h3>
<h4 id="1-refresh_token-발행">1) <code>refresh_token</code> 발행</h4>
<ul>
<li><code>/login</code> 엔드포인트에서 <code>create_refresh_token(identity=user_id)</code>를 사용하여 <code>refresh_token</code>을 생성합니다.</li>
<li>클라이언트에게 <code>access_token</code>과 함께 <code>refresh_token</code>을 반환합니다.</li>
</ul>
<h4 id="2-refresh_token으로-access_token-갱신">2) <code>refresh_token</code>으로 <code>access_token</code> 갱신</h4>
<ul>
<li><code>/refresh</code> 엔드포인트를 추가하여 <code>refresh_token</code>을 검증하고 새로운 <code>access_token</code>을 발급합니다.</li>
<li><code>@jwt_required(refresh=True)</code> 데코레이터를 사용하여 <code>refresh_token</code>의 유효성을 검사합니다.</li>
</ul>
<h4 id="3-예외-처리">3) 예외 처리</h4>
<ul>
<li><code>/login</code>과 <code>/refresh</code> 경로는 <code>@app.before_request</code> 훅에서 예외 처리하여 JWT 토큰 없이 접근할 수 있도록 합니다.</li>
</ul>
<hr>
<h3 id="4-실행-방법">4. 실행 방법</h3>
<ol>
<li>
<p>Flask 애플리케이션을 실행합니다.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>python app.py
</span></span></code></pre></div></li>
<li>
<p><code>/login</code>으로 POST 요청을 보내어 JWT 토큰을 발급받습니다.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>curl -X POST http://127.0.0.1:5000/login <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>-H <span style="color:#e6db74">&#34;Content-Type: application/json&#34;</span> <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>-d <span style="color:#e6db74">&#39;{&#34;id&#34;: &#34;rightId&#34;, &#34;password&#34;: &#34;rightPasswd&#34;}&#39;</span>
</span></span></code></pre></div><ul>
<li><strong>응답 예시</strong>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-json" data-lang="json"><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;access_token&#34;</span>: <span style="color:#e6db74">&#34;eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;refresh_token&#34;</span>: <span style="color:#e6db74">&#34;eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...&#34;</span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div></li>
</ul>
</li>
<li>
<p><code>refresh_token</code>을 사용하여 새로운 <code>access_token</code>을 발급받습니다.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>curl -X POST http://127.0.0.1:5000/refresh <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>-H <span style="color:#e6db74">&#34;Authorization: Bearer &lt;발급받은_refresh_token&gt;&#34;</span>
</span></span></code></pre></div><ul>
<li><strong>응답 예시</strong>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-json" data-lang="json"><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;access_token&#34;</span>: <span style="color:#e6db74">&#34;eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...&#34;</span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div></li>
</ul>
</li>
<li>
<p>보호된 엔드포인트(<code>/protected</code>)에 접근합니다.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>curl -X GET http://127.0.0.1:5000/protected <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>-H <span style="color:#e6db74">&#34;Authorization: Bearer &lt;발급받은_access_token&gt;&#34;</span>
</span></span></code></pre></div><ul>
<li><strong>응답 예시</strong>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-json" data-lang="json"><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;logged_in_as&#34;</span>: <span style="color:#e6db74">&#34;rightId&#34;</span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div></li>
</ul>
</li>
</ol>
<hr>
<h3 id="5-주요-장점">5. 주요 장점</h3>
<ol>
<li><strong>세션 유지</strong>: <code>refresh_token</code>을 사용하여 사용자가 매번 로그인하지 않고도 안전하게 세션을 유지할 수 있습니다.</li>
<li><strong>보안 강화</strong>: <code>access_token</code>의 유효 기간을 짧게 설정하여 보안성을 높이고, <code>refresh_token</code>을 통해 필요한 경우만 새로운 <code>access_token</code>을 발급합니다.</li>
<li><strong>유연성</strong>: <code>refresh_token</code>을 관리하여 사용자 경험을 개선할 수 있습니다.</li>
</ol>
<hr>
<h3 id="6-주의사항">6. 주의사항</h3>
<ol>
<li>
<p><strong>유효 기간 설정</strong>:</p>
<ul>
<li><code>access_token</code>과 <code>refresh_token</code>의 유효 기간을 적절히 설정해야 합니다.</li>
<li>Flask-JWT-Extended의 <code>JWT_ACCESS_TOKEN_EXPIRES</code>와 <code>JWT_REFRESH_TOKEN_EXPIRES</code> 설정을 사용하여 조정할 수 있습니다.
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>app<span style="color:#f92672">.</span>config[<span style="color:#e6db74">&#39;JWT_ACCESS_TOKEN_EXPIRES&#39;</span>] <span style="color:#f92672">=</span> timedelta(minutes<span style="color:#f92672">=</span><span style="color:#ae81ff">15</span>)  <span style="color:#75715e"># 15분</span>
</span></span><span style="display:flex;"><span>app<span style="color:#f92672">.</span>config[<span style="color:#e6db74">&#39;JWT_REFRESH_TOKEN_EXPIRES&#39;</span>] <span style="color:#f92672">=</span> timedelta(days<span style="color:#f92672">=</span><span style="color:#ae81ff">30</span>)    <span style="color:#75715e"># 30일</span>
</span></span></code></pre></div></li>
</ul>
</li>
<li>
<p><strong>HTTPS 사용</strong>: <code>refresh_token</code>은 민감한 정보이므로 HTTPS를 통해 통신해야 합니다.</p>
</li>
<li>
<p><strong>토큰 저장 및 관리</strong>: 클라이언트 측에서 <code>refresh_token</code>을 안전하게 저장하고 관리해야 합니다. 일반적으로 HTTP-only 쿠키를 사용하는 것이 좋습니다.</p>
</li>
</ol>
<hr>
<p>이제 <code>refresh_token</code>을 포함한 완전한 JWT 인증 시스템을 구현했습니다. 이를 통해 사용자는 더 안전하고 편리하게 인증을 유지할 수 있습니다.</p>
<hr>
<hr>
<hr>
<p>Flask 애플리케이션을 적절히 분리하고 구조화하는 것은 프로젝트의 유지보수성과 확장성을 높이는 데 매우 중요합니다. 아래에서는 Flask 애플리케이션을 모듈화하고, 데이터베이스 초기화 및 파일 구조를 설명하겠습니다.</p>
<hr>
<h3 id="1-파일-분리의-목적">1. <strong>파일 분리의 목적</strong></h3>
<p>Flask 프로젝트를 분리하는 주요 목적은 다음과 같습니다:</p>
<ul>
<li><strong>가독성</strong>: 코드가 길어질수록 한 파일에 모든 코드를 작성하면 관리하기 어렵습니다.</li>
<li><strong>재사용성</strong>: 특정 기능(예: 데이터베이스 관리, 인증)을 별도의 모듈로 분리하면 다른 프로젝트에서도 쉽게 재사용할 수 있습니다.</li>
<li><strong>유지보수성</strong>: 코드를 기능별로 나누면 수정이나 디버깅이 용이해집니다.</li>
</ul>
<hr>
<h3 id="2-기본적인-파일-구조">2. <strong>기본적인 파일 구조</strong></h3>
<p>아래는 Flask 프로젝트를 분리한 기본적인 파일 구조입니다:</p>
<pre tabindex="0"><code>mju_ecs_test/
├── app/
│   ├── __init__.py          # Flask 앱 초기화
│   ├── models.py            # 데이터베이스 모델 정의
│   ├── routes.py            # API 엔드포인트 정의
│   ├── auth.py              # 인증 관련 로직 (JWT 포함)
│   └── db.py                # 데이터베이스 초기화 및 연결
├── migrations/              # 데이터베이스 마이그레이션 파일 (옵션)
├── config.py                # 환경 설정
├── requirements.txt         # 의존성 목록
└── run.py                   # 애플리케이션 실행 스크립트
</code></pre><hr>
<h3 id="3-각-파일의-역할">3. <strong>각 파일의 역할</strong></h3>
<h4 id="1-runpy-애플리케이션-실행-스크립트">1) <code>run.py</code> (애플리케이션 실행 스크립트)</h4>
<ul>
<li>Flask 애플리케이션을 실행하는 진입점입니다.</li>
<li>데이터베이스 초기화를 여기서 수행할 수 있습니다.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># run.py</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> app <span style="color:#f92672">import</span> create_app
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> app.db <span style="color:#f92672">import</span> init_db
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>app <span style="color:#f92672">=</span> create_app()
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">if</span> __name__ <span style="color:#f92672">==</span> <span style="color:#e6db74">&#39;__main__&#39;</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># 데이터베이스 초기화</span>
</span></span><span style="display:flex;"><span>    init_db()
</span></span><span style="display:flex;"><span>    app<span style="color:#f92672">.</span>run(debug<span style="color:#f92672">=</span><span style="color:#66d9ef">True</span>)
</span></span></code></pre></div><hr>
<h4 id="2-app__init__py-flask-앱-초기화">2) <code>app/__init__.py</code> (Flask 앱 초기화)</h4>
<ul>
<li>Flask 애플리케이션 객체를 생성하고, 라우트와 확장을 등록합니다.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># app/__init__.py</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> flask <span style="color:#f92672">import</span> Flask
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> flask_jwt_extended <span style="color:#f92672">import</span> JWTManager
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> .routes <span style="color:#f92672">import</span> register_routes
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">create_app</span>():
</span></span><span style="display:flex;"><span>    app <span style="color:#f92672">=</span> Flask(__name__)
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># 환경 설정 로드</span>
</span></span><span style="display:flex;"><span>    app<span style="color:#f92672">.</span>config<span style="color:#f92672">.</span>from_object(<span style="color:#e6db74">&#39;config&#39;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># JWT 초기화</span>
</span></span><span style="display:flex;"><span>    jwt <span style="color:#f92672">=</span> JWTManager(app)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># 라우트 등록</span>
</span></span><span style="display:flex;"><span>    register_routes(app)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> app
</span></span></code></pre></div><hr>
<h4 id="3-configpy-환경-설정">3) <code>config.py</code> (환경 설정)</h4>
<ul>
<li>JWT 비밀 키, 데이터베이스 경로 등의 환경 설정을 관리합니다.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># config.py</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> os
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Config</span>:
</span></span><span style="display:flex;"><span>    SECRET_KEY <span style="color:#f92672">=</span> os<span style="color:#f92672">.</span>getenv(<span style="color:#e6db74">&#39;SECRET_KEY&#39;</span>, <span style="color:#e6db74">&#39;your_jwt_secret_key&#39;</span>)
</span></span><span style="display:flex;"><span>    DATABASE_PATH <span style="color:#f92672">=</span> os<span style="color:#f92672">.</span>getenv(<span style="color:#e6db74">&#39;DATABASE_PATH&#39;</span>, <span style="color:#e6db74">&#39;users.db&#39;</span>)
</span></span><span style="display:flex;"><span>    JWT_ACCESS_TOKEN_EXPIRES <span style="color:#f92672">=</span> int(os<span style="color:#f92672">.</span>getenv(<span style="color:#e6db74">&#39;JWT_ACCESS_TOKEN_EXPIRES&#39;</span>, <span style="color:#ae81ff">900</span>))  <span style="color:#75715e"># 15분</span>
</span></span><span style="display:flex;"><span>    JWT_REFRESH_TOKEN_EXPIRES <span style="color:#f92672">=</span> int(os<span style="color:#f92672">.</span>getenv(<span style="color:#e6db74">&#39;JWT_REFRESH_TOKEN_EXPIRES&#39;</span>, <span style="color:#ae81ff">2592000</span>))  <span style="color:#75715e"># 30일</span>
</span></span></code></pre></div><hr>
<h4 id="4-appdbpy-데이터베이스-초기화-및-연결">4) <code>app/db.py</code> (데이터베이스 초기화 및 연결)</h4>
<ul>
<li>데이터베이스 초기화 및 연결을 담당합니다.</li>
<li>처음 실행 시 데이터베이스가 없으면 자동으로 생성합니다.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># app/db.py</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> sqlite3
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> config <span style="color:#f92672">import</span> Config
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">init_db</span>():
</span></span><span style="display:flex;"><span>    conn <span style="color:#f92672">=</span> sqlite3<span style="color:#f92672">.</span>connect(Config<span style="color:#f92672">.</span>DATABASE_PATH)
</span></span><span style="display:flex;"><span>    cursor <span style="color:#f92672">=</span> conn<span style="color:#f92672">.</span>cursor()
</span></span><span style="display:flex;"><span>    cursor<span style="color:#f92672">.</span>execute(<span style="color:#e6db74">&#39;&#39;&#39;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">        CREATE TABLE IF NOT EXISTS USERS (
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">            id TEXT PRIMARY KEY,
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">            created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">            last_login TIMESTAMP DEFAULT CURRENT_TIMESTAMP
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">        )
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    &#39;&#39;&#39;</span>)
</span></span><span style="display:flex;"><span>    conn<span style="color:#f92672">.</span>commit()
</span></span><span style="display:flex;"><span>    conn<span style="color:#f92672">.</span>close()
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">get_db_connection</span>():
</span></span><span style="display:flex;"><span>    conn <span style="color:#f92672">=</span> sqlite3<span style="color:#f92672">.</span>connect(Config<span style="color:#f92672">.</span>DATABASE_PATH)
</span></span><span style="display:flex;"><span>    conn<span style="color:#f92672">.</span>row_factory <span style="color:#f92672">=</span> sqlite3<span style="color:#f92672">.</span>Row  <span style="color:#75715e"># 딕셔너리 형태로 결과 반환</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> conn
</span></span></code></pre></div><hr>
<h4 id="5-appmodelspy-데이터베이스-모델">5) <code>app/models.py</code> (데이터베이스 모델)</h4>
<ul>
<li>데이터베이스와 상호작용하는 함수를 정의합니다.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># app/models.py</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> .db <span style="color:#f92672">import</span> get_db_connection
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">add_user_to_db</span>(user_id):
</span></span><span style="display:flex;"><span>    conn <span style="color:#f92672">=</span> get_db_connection()
</span></span><span style="display:flex;"><span>    cursor <span style="color:#f92672">=</span> conn<span style="color:#f92672">.</span>cursor()
</span></span><span style="display:flex;"><span>    cursor<span style="color:#f92672">.</span>execute(<span style="color:#e6db74">&#39;INSERT OR IGNORE INTO USERS (id) VALUES (?)&#39;</span>, (user_id,))
</span></span><span style="display:flex;"><span>    conn<span style="color:#f92672">.</span>commit()
</span></span><span style="display:flex;"><span>    conn<span style="color:#f92672">.</span>close()
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">is_user_in_db</span>(user_id):
</span></span><span style="display:flex;"><span>    conn <span style="color:#f92672">=</span> get_db_connection()
</span></span><span style="display:flex;"><span>    cursor <span style="color:#f92672">=</span> conn<span style="color:#f92672">.</span>cursor()
</span></span><span style="display:flex;"><span>    cursor<span style="color:#f92672">.</span>execute(<span style="color:#e6db74">&#39;SELECT id FROM USER WHERE id = ?&#39;</span>, (user_id,))
</span></span><span style="display:flex;"><span>    result <span style="color:#f92672">=</span> cursor<span style="color:#f92672">.</span>fetchone()
</span></span><span style="display:flex;"><span>    conn<span style="color:#f92672">.</span>close()
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> result <span style="color:#f92672">is</span> <span style="color:#f92672">not</span> <span style="color:#66d9ef">None</span>
</span></span></code></pre></div><hr>
<h4 id="6-appauthpy-인증-관련-로직">6) <code>app/auth.py</code> (인증 관련 로직)</h4>
<ul>
<li>JWT 토큰 발행 및 갱신 로직을 포함합니다.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># app/auth.py</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> flask_jwt_extended <span style="color:#f92672">import</span> create_access_token, create_refresh_token, jwt_required, get_jwt_identity
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">generate_tokens</span>(user_id):
</span></span><span style="display:flex;"><span>    access_token <span style="color:#f92672">=</span> create_access_token(identity<span style="color:#f92672">=</span>user_id)
</span></span><span style="display:flex;"><span>    refresh_token <span style="color:#f92672">=</span> create_refresh_token(identity<span style="color:#f92672">=</span>user_id)
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> access_token, refresh_token
</span></span></code></pre></div><hr>
<h4 id="7-approutespy-api-엔드포인트-정의">7) <code>app/routes.py</code> (API 엔드포인트 정의)</h4>
<ul>
<li><code>/login</code>, <code>/refresh</code>, <code>/protected</code> 같은 API 엔드포인트를 정의합니다.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># app/routes.py</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> flask <span style="color:#f92672">import</span> request, jsonify
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> .auth <span style="color:#f92672">import</span> generate_tokens
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> .models <span style="color:#f92672">import</span> add_user_to_db, is_user_in_db
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> requests
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">register_routes</span>(app):
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@app.route</span>(<span style="color:#e6db74">&#39;/login&#39;</span>, methods<span style="color:#f92672">=</span>[<span style="color:#e6db74">&#39;POST&#39;</span>])
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">login</span>():
</span></span><span style="display:flex;"><span>        user_id <span style="color:#f92672">=</span> request<span style="color:#f92672">.</span>json<span style="color:#f92672">.</span>get(<span style="color:#e6db74">&#39;id&#39;</span>, <span style="color:#66d9ef">None</span>)
</span></span><span style="display:flex;"><span>        user_password <span style="color:#f92672">=</span> request<span style="color:#f92672">.</span>json<span style="color:#f92672">.</span>get(<span style="color:#e6db74">&#39;password&#39;</span>, <span style="color:#66d9ef">None</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> <span style="color:#f92672">not</span> user_id <span style="color:#f92672">or</span> <span style="color:#f92672">not</span> user_password:
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">return</span> jsonify({<span style="color:#e6db74">&#34;msg&#34;</span>: <span style="color:#e6db74">&#34;ID와 비밀번호를 입력해주세요.&#34;</span>}), <span style="color:#ae81ff">400</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">try</span>:
</span></span><span style="display:flex;"><span>            response <span style="color:#f92672">=</span> requests<span style="color:#f92672">.</span>post(
</span></span><span style="display:flex;"><span>                <span style="color:#e6db74">&#39;https://sso1.mju.ac.kr/mju/userCheck.do&#39;</span>,
</span></span><span style="display:flex;"><span>                data<span style="color:#f92672">=</span>{<span style="color:#e6db74">&#39;id&#39;</span>: user_id, <span style="color:#e6db74">&#39;passwrd&#39;</span>: user_password}
</span></span><span style="display:flex;"><span>            )
</span></span><span style="display:flex;"><span>            api_response <span style="color:#f92672">=</span> response<span style="color:#f92672">.</span>json()
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">if</span> api_response<span style="color:#f92672">.</span>get(<span style="color:#e6db74">&#39;error&#39;</span>) <span style="color:#f92672">==</span> <span style="color:#e6db74">&#39;0000&#39;</span>:
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">if</span> <span style="color:#f92672">not</span> is_user_in_db(user_id):
</span></span><span style="display:flex;"><span>                    add_user_to_db(user_id)
</span></span><span style="display:flex;"><span>                access_token, refresh_token <span style="color:#f92672">=</span> generate_tokens(user_id)
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">return</span> jsonify(access_token<span style="color:#f92672">=</span>access_token, refresh_token<span style="color:#f92672">=</span>refresh_token), <span style="color:#ae81ff">200</span>
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">else</span>:
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">return</span> jsonify({<span style="color:#e6db74">&#34;msg&#34;</span>: api_response<span style="color:#f92672">.</span>get(<span style="color:#e6db74">&#39;error_message&#39;</span>, <span style="color:#e6db74">&#39;로그인 실패&#39;</span>)}), <span style="color:#ae81ff">401</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">except</span> <span style="color:#a6e22e">Exception</span> <span style="color:#66d9ef">as</span> e:
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">return</span> jsonify({<span style="color:#e6db74">&#34;msg&#34;</span>: <span style="color:#e6db74">f</span><span style="color:#e6db74">&#34;외부 API 요청 중 오류 발생: </span><span style="color:#e6db74">{</span>str(e)<span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>}), <span style="color:#ae81ff">500</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@app.route</span>(<span style="color:#e6db74">&#39;/refresh&#39;</span>, methods<span style="color:#f92672">=</span>[<span style="color:#e6db74">&#39;POST&#39;</span>])
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@jwt_required</span>(refresh<span style="color:#f92672">=</span><span style="color:#66d9ef">True</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">refresh</span>():
</span></span><span style="display:flex;"><span>        current_user <span style="color:#f92672">=</span> get_jwt_identity()
</span></span><span style="display:flex;"><span>        new_access_token <span style="color:#f92672">=</span> create_access_token(identity<span style="color:#f92672">=</span>current_user)
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> jsonify(access_token<span style="color:#f92672">=</span>new_access_token), <span style="color:#ae81ff">200</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@app.route</span>(<span style="color:#e6db74">&#39;/protected&#39;</span>, methods<span style="color:#f92672">=</span>[<span style="color:#e6db74">&#39;GET&#39;</span>])
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@jwt_required</span>()
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">protected</span>():
</span></span><span style="display:flex;"><span>        current_user <span style="color:#f92672">=</span> get_jwt_identity()
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> jsonify(logged_in_as<span style="color:#f92672">=</span>current_user), <span style="color:#ae81ff">200</span>
</span></span></code></pre></div><hr>
<h3 id="4-설명-요약">4. <strong>설명 요약</strong></h3>
<ol>
<li>
<p><strong>모듈화</strong>:</p>
<ul>
<li>각 기능을 별도의 파일로 분리하여 관리합니다.</li>
<li>예: 데이터베이스(<code>db.py</code>), 인증(<code>auth.py</code>), 라우트(<code>routes.py</code>) 등.</li>
</ul>
</li>
<li>
<p><strong>초기화</strong>:</p>
<ul>
<li><code>run.py</code>에서 애플리케이션을 실행하며, 데이터베이스 초기화를 수행합니다.</li>
<li>데이터베이스가 없는 경우 자동으로 생성됩니다.</li>
</ul>
</li>
<li>
<p><strong>환경 설정</strong>:</p>
<ul>
<li><code>config.py</code>에서 환경 변수를 통해 설정을 관리합니다.</li>
</ul>
</li>
</ol>
<hr>
<h3 id="5-추가-고려사항">5. <strong>추가 고려사항</strong></h3>
<ol>
<li>
<p><strong>테스트</strong>:</p>
<ul>
<li>단위 테스트를 위해 각 모듈을 독립적으로 테스트할 수 있도록 설계합니다.</li>
</ul>
</li>
<li>
<p><strong>확장성</strong>:</p>
<ul>
<li>SQLite 대신 MySQL 또는 PostgreSQL을 사용하려면 <code>db.py</code>를 수정하면 됩니다.</li>
</ul>
</li>
<li>
<p><strong>마이그레이션 도구</strong>:</p>
<ul>
<li>데이터베이스 스키마 변경을 관리하기 위해 Alembic 같은 마이그레이션 도구를 사용할 수 있습니다.</li>
</ul>
</li>
</ol>
<hr>
<p>이렇게 파일을 분리하고 구조화하면 프로젝트가 더 체계적이고 유지보수가 쉬워집니다. 필요한 경우 추가적인 설명이나 코드를 요청해주세요!</p>

</article>


        
        <footer class="site-footer">
            
            <address>
                
            </address>
            <p>&copy; 2025 My Test Site. All rights reserved.</p>
        </footer>
    </main>

    
    <aside class="sidebar">
        <h3>최근 글</h3>
        <ul>
            
            <li><a href="http://localhost:1313/signal-%EC%B0%A8%EC%9D%B4-unixmacos-vs-linux/">signal 차이 unix(macos) vs linux</a></li>
            
            <li><a href="http://localhost:1313/02.inbox/doxyzen-%ED%82%A4%EC%9B%8C%EB%93%9C/">Doxyzen 키워드</a></li>
            
            <li><a href="http://localhost:1313/02.inbox/%EB%B0%B1%EC%97%94%EB%93%9C-%EA%B5%AC%EC%A1%B0-%EB%B3%80%ED%99%94-%EC%97%AD%EC%82%AC/">백엔드 구조 변화 역사</a></li>
            
            <li><a href="http://localhost:1313/%EC%BD%94%EC%96%B4-%EB%8D%A4%ED%94%84core-dump/">코어 덤프(Core Dump)</a></li>
            
            <li><a href="http://localhost:1313/copilot/copilot-custom-prompts/translate-to-chinese/">Translate to Chinese</a></li>
            
        </ul>

        <h3>태그</h3>
        
        
    </aside>
</body>
</html>