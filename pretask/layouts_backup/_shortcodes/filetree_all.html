{{ $path := .Get "path" }}
<div class="file-tree" style="border:1px solid #ddd; padding: 15px; margin-bottom: 20px; border-radius: 5px; background-color: #f9f9f9;">
{{ if $path }}
  {{/* 경로가 지정된 경우 */}}
  {{ with .Site.GetPage $path }}
    <h4>'{{ $path }}' 하위 구조 (All Pages)</h4>
    <ul>
      <li>
        📁 <a href="{{ .RelPermalink }}">{{ .Title }}</a> <small>(Kind: {{ .Kind }})</small>
        {{ partial "tree_all.html" . }}
      </li>
    </ul>
  {{ else }}
    <p style="color: red;">오류: 경로 '{{ $path }}'를 찾을 수 없습니다.</p>
  {{ end }}
{{ else }}
  {{/* 경로가 지정되지 않은 경우 (전체 구조) */}}
  {{/* 홈페이지(.Site.Home)는 모든 최상위 페이지의 부모이므로 한번만 호출하면 됨 */}}
  <h4>사이트 전체 구조 (All Pages)</h4>
  {{ partial "tree_all.html" .Site.Home }}
{{ end }}
</div>