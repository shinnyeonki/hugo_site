---
title: 브라우저 기반 수강신청 알림 시스템 설계서
resource-path: 02.inbox/브라우저 기반 수강신청 알림 시스템 설계서.md
keywords:
tags:
  - project
date: 2025-08-14T11:58:36+09:00
lastmod: 2025-08-19T01:08:32+09:00
---
## 명지대학교 수강신청 빈자리 알림 크롬 확장프로그램 프로젝트 설계서

### 1. 프로젝트 개요
명지대학교 수강신청 시스템의 '미리담기 내역' 페이지(`https://class.mju.ac.kr/main/bag`)에서 '인원초과' 상태인 강의에 빈자리가 발생했을 때, 사용자에게 데스크탑 알림을 보내주는 크롬 확장 프로그램을 개발한다. 이 프로그램은 사용자가 수동으로 새로고침하며 자리를 확인하는 불편함을 해소하는 것을 목표로 한다.

### 2. 목표
-   **특정 페이지에서만 동작:** `https://class.mju.ac.kr/main/bag` URL에서만 확장 프로그램의 기능이 활성화된다.
-   **UI 요소 삽입:** '인원초과'가 표시된 강의 항목에 '알림 대기' 버튼을 동적으로 추가한다.
-   **백그라운드 모니터링:** 사용자가 '알림 대기' 버튼을 클릭하면, 해당 강의를 백그라운드에서 주기적으로 확인한다.
-   **실시간 알림:** 모니터링 중인 강의에 빈자리(`[인원초과]` 문자열 제거)가 확인되면 즉시 사용자에게 크롬 데스크탑 알림을 보낸다.
-   **메모리 기반 데이터 관리:** 알림 대기 중인 강의 목록, CSRF 토큰 등 모든 상태 정보는 `chrome.storage`를 사용하지 않고, 확장 프로그램의 실행 시간 동안 메모리(JavaScript 변수)에만 저장한다.
-   **비-간섭적 작동:** 백그라운드 확인 작업은 현재 사용자가 보고 있는 페이지를 새로고침하거나 UI를 변경하지 않는다.

---

### 3. 아키텍처 및 구성 요소
확장 프로그램은 다음과 같은 세 가지 주요 파일로 구성된다.

1.  **`manifest.json` (확장 프로그램 설정 파일)**
    -   확장 프로그램의 이름, 버전, 설명 등 기본 정보 정의
    -   필요한 권한 요청 (`notifications`, `alarms`, `scripting`)
    -   **Content Script**가 실행될 URL 지정 (`https://class.mju.ac.kr/main/bag`)
    -   **Background Script(Service Worker)** 등록

2.  **`content_script.js` (콘텐츠 스크립트)**
    -   **역할:** 웹 페이지 DOM(Document Object Model)에 직접 접근하여 UI를 조작하고, 백그라운드 스크립트와 통신하는 중개자.
    -   **주요 기능:**
        -   페이지 로드 시, 현재 URL이 `https://class.mju.ac.kr/main/bag`인지 확인.
        -   `div.coursedata` 요소를 모두 순회하며, 내부에 `[ 인원초과 ]` 텍스트가 포함된 `span.fullclass`가 있는지 확인.
        -   조건에 맞는 강의의 `div.btnarea` 내부에 '알림 대기' 버튼을 생성하고 삽입.
        -   '알림 대기' 버튼에 클릭 이벤트 리스너를 추가.
        -   버튼 클릭 시, 해당 강의의 고유 식별자(예: `data-coursecls` 값)와 페이지의 CSRF 토큰(`meta[name="_csrf"]` 태그의 `content` 값)을 추출.
        -   추출된 (강의 ID, CSRF 토큰) 정보를 **Background Script**로 메시지 전송.
        -   (선택) 알림이 시작되면 버튼의 텍스트를 '알림 대기중...'으로 변경하고 비활성화하여 중복 요청 방지.

3.  **`background.js` (백그라운드 스크립트 - Service Worker)**
    -   **역할:** 확장 프로그램의 핵심 두뇌. 보이지 않는 곳에서 주기적인 작업을 수행하고 상태를 관리.
    -   **주요 기능:**
        -   **상태 관리 (메모리):**
            -   `monitoredCourses`: 알림 대기 중인 강의 ID를 저장하는 `Set` 또는 `Map` 객체. (예: `new Set(['0710', '0084'])`)
            -   `csrfToken`: **Content Script**로부터 최초로 전달받은 CSRF 토큰을 저장하는 변수.
        -   **메시지 수신:** **Content Script**로부터 메시지(`chrome.runtime.onMessage`)를 수신 대기.
            -   메시지 수신 시, 전달받은 강의 ID를 `monitoredCourses`에 추가하고, `csrfToken`을 업데이트.
            -   알림 대기 목록에 강의가 추가되면 주기적인 확인 작업을 시작/유지.
        -   **주기적 작업 (`chrome.alarms` API 사용):**
            -   일정 시간(예: 5초) 간격으로 알람을 설정. `setInterval`보다 Service Worker 환경에 더 적합.
            -   알람이 울리면 등록된 모든 `monitoredCourses`에 대해 확인 작업 수행.
        -   **데이터 확인 (Fetch):**
            -   저장된 `csrfToken`을 사용하여 `https://class.mju.ac.kr/main/bag`에 `POST` 요청을 보냄 (요청 형식은 제공된 명세와 동일하게 구성).
            -   응답으로 받은 HTML 텍스트를 파싱.
        -   **상태 비교 및 알림:**
            -   파싱된 HTML 내에서, `monitoredCourses`에 포함된 각 강의 ID에 해당하는 `div.coursedata`를 찾음.
            -   해당 강의의 `span.fullclass` 요소에서 `[ 인원초과 ]` 문자열이 사라졌는지 확인.
            -   빈자리가 확인되면 `chrome.notifications.create` API를 사용하여 사용자에게 데스크탑 알림을 표시. (예: "'알고리즘' 강의에 빈자리가 생겼습니다!").
            -   알림을 보낸 강의 ID는 `monitoredCourses` 목록에서 제거하여 더 이상 확인하지 않도록 함.

---

### 4. 데이터 관리 전략
-   **저장소:** 모든 데이터는 `background.js` 내의 JavaScript 변수(전역 스코프)에 저장된다.
-   **데이터 생명주기:**
    -   **알림 대기 강의 목록 (`monitoredCourses`):** 사용자가 '알림 대기' 버튼을 누를 때 추가되고, 빈자리 알림이 발생하거나 브라우저가 종료되면 초기화된다.
    -   **CSRF 토큰 (`csrfToken`):** 사용자가 첫 '알림 대기' 버튼을 누를 때 `content_script.js`가 페이지에서 추출하여 `background.js`로 전달하며, 이후 모든 백그라운드 `fetch` 요청에 사용된다. 브라우저 종료 시 사라진다.
-   **장점:** 구현이 간단하고 빠르다.
-   **단점:** 브라우저를 닫거나 크롬을 재시작하면 모든 알림 대기 상태가 초기화된다. 이는 요구사항에 부합하는 설계이다.

---

### 5. 동작 시나리오 (User Flow)
1.  사용자가 명지대학교 수강신청 사이트에 로그인 후, `https://class.mju.ac.kr/main/bag` 페이지로 이동한다.
2.  `content_script.js`가 실행되어 `[ 인원초과 ]`가 붙은 '알고리즘' 강의 옆에 '알림 대기' 버튼을 생성한다.
3.  사용자가 '알고리즘' 강의의 '알림 대기' 버튼을 클릭한다.
4.  `content_script.js`는 '알고리즘'의 강의 ID('0710')와 현재 페이지의 CSRF 토큰 값을 가져와 `background.js`로 전송한다. 버튼은 '알림 대기중...'으로 변경된다.
5.  `background.js`는 메시지를 수신하고, 내부 변수 `monitoredCourses`에 '0710'을 추가하고, `csrfToken` 변수에 토큰 값을 저장한다.
6.  `background.js`는 `chrome.alarms`를 이용해 5초 간격의 확인 작업을 시작한다.
7.  5초 후, `background.js`는 저장된 `csrfToken`을 이용해 `/main/bag` 페이지의 최신 정보를 `fetch`로 가져온다.
8.  가져온 HTML을 분석하여 '0710' 강의에 여전히 `[ 인원초과 ]`가 있는지 확인한다. 아직 자리가 없다.
9.  (시간 경과 후) 다음 확인 주기에서 `fetch`한 HTML에서 '0710' 강의에 `[ 인원초과 ]` 문구가 사라진 것을 감지한다.
10. `background.js`는 `chrome.notifications.create`를 호출하여 "'0710 알고리즘' 강의에 빈자리가 생겼습니다!" 라는 알림을 띄운다.
11. `background.js`는 `monitoredCourses` 목록에서 '0710'을 제거하고, 해당 강의에 대한 모니터링을 중단한다.
12. `content_script.js` 가 생성한 알림 버튼도 같이 제거한다

---

### 6. 요청된 url 에서 강의 데이터 구조

```html
<div id="bagresult" class="courselist" data-req="Y" data-bag="N" data-reqdel="N" data-bagdel="Y" role="list">
						
						
						<div class="coursedata filter" role="listitem" id="coursedataid-0419" data-addtime="808151054" data-coursecls="0419">
				
							<div class="infoarea">
								<div class="course-title" style="font-weight: bold;">
									<span class="fullclass" id="fullsign-0419">
										[ 인원초과 ]
									</span>
									<span>0419 빅데이터인포그래픽(KCU)</span>
									
									
								</div>
								
								<div class="course-basicinfo">
									<span>
										
										전학년 /
										균컴114 /
										학점 : 3 / 
										담당교수 : 이규연
									</span>
									
								</div>
								
								<div class="course-schedule">
									<span>시간 미지정</span>
									
								</div>
								
								<div class="course-remark">
									비고 : <b>온라인(원격수업)</b>
								</div>
								
								<div class="course-count">
									담은인원 : <span id="bagcnt-0419">457</span> / 
									수강인원 : <span id="listencnt-0419">108</span> / 
									제한인원 : <span id="takecnt-0419">108</span>
								</div>
								
								
							</div>
							
							<div class="btnarea">
								<span class="applied" style="display:none" id="applied0419">
									신청완료
								</span>
								<button id="req-0419" class="classbtn reqbtn sorthide" aria-label="0419 빅데이터인포그래픽(KCU) 수강신청하기" data-coursecls="0419" data-curinum="KMQ01114" style="display: block;">
									수강신청
								</button>
								<button class="classbtn delbtn sorthide" data-coursecls="0419" data-curinum="KMQ01114" aria-label="0419 빅데이터인포그래픽(KCU) 미리담기 삭제하기" style="display: block;">
									미리담기 삭제
								</button>
								
								<span class="sortshow" style="display: none;">≡</span>
							</div>
							
						</div>
						
						<div class="coursedata filter" role="listitem" id="coursedataid-5469" data-addtime="808164217" data-coursecls="5469">
				
							<div class="infoarea">
								<div class="course-title" style="font-weight: bold;">
									<span class="fullclass" id="fullsign-5469">
										[ 인원초과 ]
									</span>
									<span>5469 인체안의전쟁(KCU)</span>
									
									
								</div>
								
								<div class="course-basicinfo">
									<span>
										
										전학년 /
										균여133 /
										학점 : 3 / 
										담당교수 : 미배정
									</span>
									
								</div>
								
								<div class="course-schedule">
									<span>시간 미지정</span>
									
								</div>
								
								<div class="course-remark">
									비고 : <b>온라인(원격수업),KCU</b>
								</div>
								
								<div class="course-count">
									담은인원 : <span id="bagcnt-5469">433</span> / 
									수강인원 : <span id="listencnt-5469">176</span> / 
									제한인원 : <span id="takecnt-5469">176</span>
								</div>
								
								
							</div>
							
							<div class="btnarea">
								<span class="applied" style="display:none" id="applied5469">
									신청완료
								</span>
								<button id="req-5469" class="classbtn reqbtn sorthide" aria-label="5469 인체안의전쟁(KCU) 수강신청하기" data-coursecls="5469" data-curinum="KMO02133" style="display: block;">
									수강신청
								</button>
								<button class="classbtn delbtn sorthide" data-coursecls="5469" data-curinum="KMO02133" aria-label="5469 인체안의전쟁(KCU) 미리담기 삭제하기" style="display: block;">
									미리담기 삭제
								</button>
								
								<span class="sortshow" style="display: none;">≡</span>
							</div>
							
						</div>
						
						<div class="coursedata filter" role="listitem" id="coursedataid-0233" data-addtime="814100108" data-coursecls="0233">
				
							<div class="infoarea">
								<div class="course-title" style="font-weight: bold;">
									<span class="fullclass" id="fullsign-0233">
										[ 인원초과 ]
									</span>
									<span>0233 문화속디자인여행(KCU)</span>
									
									
								</div>
								
								<div class="course-basicinfo">
									<span>
										
										전학년 /
										기문217 /
										학점 : 3 / 
										담당교수 : 이규연
									</span>
									
								</div>
								
								<div class="course-schedule">
									<span>시간 미지정</span>
									
								</div>
								
								<div class="course-remark">
									비고 : <b>온라인(원격수업)</b>
								</div>
								
								<div class="course-count">
									담은인원 : <span id="bagcnt-0233">598</span> / 
									수강인원 : <span id="listencnt-0233">108</span> / 
									제한인원 : <span id="takecnt-0233">108</span>
								</div>
								
								
							</div>
							
							<div class="btnarea">
								<span class="applied" style="display:none" id="applied0233">
									신청완료
								</span>
								<button id="req-0233" class="classbtn reqbtn sorthide" aria-label="0233 문화속디자인여행(KCU) 수강신청하기" data-coursecls="0233" data-curinum="KMC02217" style="display: block;">
									수강신청
								</button>
								<button class="classbtn delbtn sorthide" data-coursecls="0233" data-curinum="KMC02217" aria-label="0233 문화속디자인여행(KCU) 미리담기 삭제하기" style="display: block;">
									미리담기 삭제
								</button>
								
								<span class="sortshow" style="display: none;">≡</span>
							</div>
							
						</div>
						
						<div class="coursedata filter" role="listitem" id="coursedataid-5431" data-addtime="814100118" data-coursecls="5431">
				
							<div class="infoarea">
								<div class="course-title" style="font-weight: bold;">
									<span class="fullclass" id="fullsign-5431">
										[ 인원초과 ]
									</span>
									<span>5431 영화제작에대해알고싶은모든것(KCU)</span>
									
									
								</div>
								
								<div class="course-basicinfo">
									<span>
										
										전학년 /
										균문122 /
										학점 : 3 / 
										담당교수 : 미배정
									</span>
									
								</div>
								
								<div class="course-schedule">
									<span>시간 미지정</span>
									
								</div>
								
								<div class="course-remark">
									비고 : <b>온라인(원격수업),KCU</b>
								</div>
								
								<div class="course-count">
									담은인원 : <span id="bagcnt-5431">516</span> / 
									수강인원 : <span id="listencnt-5431">176</span> / 
									제한인원 : <span id="takecnt-5431">176</span>
								</div>
								
								
							</div>
							
							<div class="btnarea">
								<span class="applied" style="display:none" id="applied5431">
									신청완료
								</span>
								<button id="req-5431" class="classbtn reqbtn sorthide" aria-label="5431 영화제작에대해알고싶은모든것(KCU) 수강신청하기" data-coursecls="5431" data-curinum="KML02122" style="display: block;">
									수강신청
								</button>
								<button class="classbtn delbtn sorthide" data-coursecls="5431" data-curinum="KML02122" aria-label="5431 영화제작에대해알고싶은모든것(KCU) 미리담기 삭제하기" style="display: block;">
									미리담기 삭제
								</button>
								
								<span class="sortshow" style="display: none;">≡</span>
							</div>
							
						</div>
						
						<div class="coursedata filter" role="listitem" id="coursedataid-0084" data-addtime="814104427" data-coursecls="0084">
				
							<div class="infoarea">
								<div class="course-title" style="font-weight: bold;">
									<span class="fullclass" id="fullsign-0084">
										[ 인원초과 ]
									</span>
									<span>0084 영어회화2</span>
									
									<span>
										(<span>L3</span>)
									</span>
								</div>
								
								<div class="course-basicinfo">
									<span>
										
										전학년 /
										교필109 /
										학점 : 1 / 
										담당교수 : 데본
									</span>
									
								</div>
								
								<div class="course-schedule">
									
									<span>
										<span>월12:00~12:50(Y9230), 수12:00~12:50(Y9230)</span>
									</span>
								</div>
								
								
								
								<div class="course-count">
									담은인원 : <span id="bagcnt-0084">48</span> / 
									수강인원 : <span id="listencnt-0084">11</span> / 
									제한인원 : <span id="takecnt-0084">11</span>
								</div>
								
								
							</div>
							
							<div class="btnarea">
								<span class="applied" style="display:none" id="applied0084">
									신청완료
								</span>
								<button id="req-0084" class="classbtn reqbtn sorthide" aria-label="0084 영어회화2 수강신청하기" data-coursecls="0084" data-curinum="KMA02109" style="display: block;">
									수강신청
								</button>
								<button class="classbtn delbtn sorthide" data-coursecls="0084" data-curinum="KMA02109" aria-label="0084 영어회화2 미리담기 삭제하기" style="display: block;">
									미리담기 삭제
								</button>
								
								<span class="sortshow" style="display: none;">≡</span>
							</div>
							
						</div>
						
						<div class="coursedata filter" role="listitem" id="coursedataid-0710" data-addtime="814104302" data-coursecls="0710">
				
							<div class="infoarea">
								<div class="course-title" style="font-weight: bold;">
									<span class="fullclass" id="fullsign-0710">
										[ 인원초과 ]
									</span>
									<span>0710 알고리즘</span>
									
									
								</div>
								
								<div class="course-basicinfo">
									<span>
										
										3학년 /
										컴공316 /
										학점 : 3 / 
										담당교수 : 조민경
									</span>
									
								</div>
								
								<div class="course-schedule">
									
									<span>
										<span>월09:00~10:50(Y5437), 목09:00~09:50(Y5437)</span>
									</span>
								</div>
								
								
								
								<div class="course-count">
									담은인원 : <span id="bagcnt-0710">53</span> / 
									수강인원 : <span id="listencnt-0710">30</span> / 
									제한인원 : <span id="takecnt-0710">30</span>
								</div>
								
								<div class="course-past" data-grade="D+">
									※ 과거 이수성적 : 2023-2학기 : 알고리즘 D+
								</div>
							</div>
							
							<div class="btnarea">
								<span class="applied" style="display:none" id="applied0710">
									신청완료
								</span>
								<button id="req-0710" class="classbtn reqbtn sorthide" aria-label="0710 알고리즘 수강신청하기" data-coursecls="0710" data-curinum="JEJ02316" style="display: block;">
									수강신청
								</button>
								<button class="classbtn delbtn sorthide" data-coursecls="0710" data-curinum="JEJ02316" aria-label="0710 알고리즘 미리담기 삭제하기" style="display: block;">
									미리담기 삭제
								</button>
								
								<span class="sortshow" style="display: none;">≡</span>
							</div>
							
						</div>
						
						<div class="coursedata filter" role="listitem" id="coursedataid-0762" data-addtime="814100722" data-coursecls="0762">
				
							<div class="infoarea">
								<div class="course-title" style="font-weight: bold;">
									<span style="display:none" class="fullclass" id="fullsign-0762">
										[ 인원초과 ]
									</span>
									<span>0762 산업경영공학개론</span>
									
									
								</div>
								
								<div class="course-basicinfo">
									<span>
										
										1학년 /
										산업213 /
										학점 : 3 / 
										담당교수 : 한민탁
									</span>
									
								</div>
								
								<div class="course-schedule">
									<span>시간 미지정</span>
									
								</div>
								
								<div class="course-remark">
									비고 : <b>아너칼리지및타전공수강,전공자수강X,전공이해기초교과,MJU자율수강제강좌,온라인강의</b>
								</div>
								
								<div class="course-count">
									담은인원 : <span id="bagcnt-0762">6</span> / 
									수강인원 : <span id="listencnt-0762">7</span> / 
									제한인원 : <span id="takecnt-0762">50</span>
								</div>
								
								
							</div>
							
							<div class="btnarea">
								<span class="applied" style="display:none" id="applied0762">
									신청완료
								</span>
								<button id="req-0762" class="classbtn reqbtn sorthide" aria-label="0762 산업경영공학개론 수강신청하기" data-coursecls="0762" data-curinum="JEO01213" style="display: block;">
									수강신청
								</button>
								<button class="classbtn delbtn sorthide" data-coursecls="0762" data-curinum="JEO01213" aria-label="0762 산업경영공학개론 미리담기 삭제하기" style="display: block;">
									미리담기 삭제
								</button>
								
								<span class="sortshow" style="display: none;">≡</span>
							</div>
							
						</div>
						
						<div class="coursedata filter" role="listitem" id="coursedataid-0238" data-addtime="814102933" data-coursecls="0238">
				
							<div class="infoarea">
								<div class="course-title" style="font-weight: bold;">
									<span class="fullclass" id="fullsign-0238">
										[ 인원초과 ]
									</span>
									<span>0238 MJ사회봉사</span>
									
									
								</div>
								
								<div class="course-basicinfo">
									<span>
										
										전학년 /
										기사167 /
										학점 : 3 / 
										담당교수 : 유우연
									</span>
									
								</div>
								
								<div class="course-schedule">
									
									<span>
										<span>월17:00~19:50(Y501)</span>
									</span>
								</div>
								
								<div class="course-remark">
									비고 : <b>N/P과목</b>
								</div>
								
								<div class="course-count">
									담은인원 : <span id="bagcnt-0238">56</span> / 
									수강인원 : <span id="listencnt-0238">17</span> / 
									제한인원 : <span id="takecnt-0238">17</span>
								</div>
								
								
							</div>
							
							<div class="btnarea">
								<span class="applied" style="display:none" id="applied0238">
									신청완료
								</span>
								<button id="req-0238" class="classbtn reqbtn sorthide" aria-label="0238 MJ사회봉사 수강신청하기" data-coursecls="0238" data-curinum="KMD02167" style="display: block;">
									수강신청
								</button>
								<button class="classbtn delbtn sorthide" data-coursecls="0238" data-curinum="KMD02167" aria-label="0238 MJ사회봉사 미리담기 삭제하기" style="display: block;">
									미리담기 삭제
								</button>
								
								<span class="sortshow" style="display: none;">≡</span>
							</div>
							
						</div>
					</div><div id="bagresult" class="courselist" data-req="Y" data-bag="N" data-reqdel="N" data-bagdel="Y" role="list">
						
						
						<div class="coursedata filter" role="listitem" id="coursedataid-0419" data-addtime="808151054" data-coursecls="0419">
				
							<div class="infoarea">
								<div class="course-title" style="font-weight: bold;">
									<span class="fullclass" id="fullsign-0419">
										[ 인원초과 ]
									</span>
									<span>0419 빅데이터인포그래픽(KCU)</span>
									
									
								</div>
								
								<div class="course-basicinfo">
									<span>
										
										전학년 /
										균컴114 /
										학점 : 3 / 
										담당교수 : 이규연
									</span>
									
								</div>
								
								<div class="course-schedule">
									<span>시간 미지정</span>
									
								</div>
								
								<div class="course-remark">
									비고 : <b>온라인(원격수업)</b>
								</div>
								
								<div class="course-count">
									담은인원 : <span id="bagcnt-0419">457</span> / 
									수강인원 : <span id="listencnt-0419">108</span> / 
									제한인원 : <span id="takecnt-0419">108</span>
								</div>
								
								
							</div>
							
							<div class="btnarea">
								<span class="applied" style="display:none" id="applied0419">
									신청완료
								</span>
								<button id="req-0419" class="classbtn reqbtn sorthide" aria-label="0419 빅데이터인포그래픽(KCU) 수강신청하기" data-coursecls="0419" data-curinum="KMQ01114" style="display: block;">
									수강신청
								</button>
								<button class="classbtn delbtn sorthide" data-coursecls="0419" data-curinum="KMQ01114" aria-label="0419 빅데이터인포그래픽(KCU) 미리담기 삭제하기" style="display: block;">
									미리담기 삭제
								</button>
								
								<span class="sortshow" style="display: none;">≡</span>
							</div>
							
						</div>
						
						<div class="coursedata filter" role="listitem" id="coursedataid-5469" data-addtime="808164217" data-coursecls="5469">
				
							<div class="infoarea">
								<div class="course-title" style="font-weight: bold;">
									<span class="fullclass" id="fullsign-5469">
										[ 인원초과 ]
									</span>
									<span>5469 인체안의전쟁(KCU)</span>
									
									
								</div>
								
								<div class="course-basicinfo">
									<span>
										
										전학년 /
										균여133 /
										학점 : 3 / 
										담당교수 : 미배정
									</span>
									
								</div>
								
								<div class="course-schedule">
									<span>시간 미지정</span>
									
								</div>
								
								<div class="course-remark">
									비고 : <b>온라인(원격수업),KCU</b>
								</div>
								
								<div class="course-count">
									담은인원 : <span id="bagcnt-5469">433</span> / 
									수강인원 : <span id="listencnt-5469">176</span> / 
									제한인원 : <span id="takecnt-5469">176</span>
								</div>
								
								
							</div>
							
							<div class="btnarea">
								<span class="applied" style="display:none" id="applied5469">
									신청완료
								</span>
								<button id="req-5469" class="classbtn reqbtn sorthide" aria-label="5469 인체안의전쟁(KCU) 수강신청하기" data-coursecls="5469" data-curinum="KMO02133" style="display: block;">
									수강신청
								</button>
								<button class="classbtn delbtn sorthide" data-coursecls="5469" data-curinum="KMO02133" aria-label="5469 인체안의전쟁(KCU) 미리담기 삭제하기" style="display: block;">
									미리담기 삭제
								</button>
								
								<span class="sortshow" style="display: none;">≡</span>
							</div>
							
						</div>
						
						<div class="coursedata filter" role="listitem" id="coursedataid-0233" data-addtime="814100108" data-coursecls="0233">
				
							<div class="infoarea">
								<div class="course-title" style="font-weight: bold;">
									<span class="fullclass" id="fullsign-0233">
										[ 인원초과 ]
									</span>
									<span>0233 문화속디자인여행(KCU)</span>
									
									
								</div>
								
								<div class="course-basicinfo">
									<span>
										
										전학년 /
										기문217 /
										학점 : 3 / 
										담당교수 : 이규연
									</span>
									
								</div>
								
								<div class="course-schedule">
									<span>시간 미지정</span>
									
								</div>
								
								<div class="course-remark">
									비고 : <b>온라인(원격수업)</b>
								</div>
								
								<div class="course-count">
									담은인원 : <span id="bagcnt-0233">598</span> / 
									수강인원 : <span id="listencnt-0233">108</span> / 
									제한인원 : <span id="takecnt-0233">108</span>
								</div>
								
								
							</div>
							
							<div class="btnarea">
								<span class="applied" style="display:none" id="applied0233">
									신청완료
								</span>
								<button id="req-0233" class="classbtn reqbtn sorthide" aria-label="0233 문화속디자인여행(KCU) 수강신청하기" data-coursecls="0233" data-curinum="KMC02217" style="display: block;">
									수강신청
								</button>
								<button class="classbtn delbtn sorthide" data-coursecls="0233" data-curinum="KMC02217" aria-label="0233 문화속디자인여행(KCU) 미리담기 삭제하기" style="display: block;">
									미리담기 삭제
								</button>
								
								<span class="sortshow" style="display: none;">≡</span>
							</div>
							
						</div>
						
						<div class="coursedata filter" role="listitem" id="coursedataid-5431" data-addtime="814100118" data-coursecls="5431">
				
							<div class="infoarea">
								<div class="course-title" style="font-weight: bold;">
									<span class="fullclass" id="fullsign-5431">
										[ 인원초과 ]
									</span>
									<span>5431 영화제작에대해알고싶은모든것(KCU)</span>
									
									
								</div>
								
								<div class="course-basicinfo">
									<span>
										
										전학년 /
										균문122 /
										학점 : 3 / 
										담당교수 : 미배정
									</span>
									
								</div>
								
								<div class="course-schedule">
									<span>시간 미지정</span>
									
								</div>
								
								<div class="course-remark">
									비고 : <b>온라인(원격수업),KCU</b>
								</div>
								
								<div class="course-count">
									담은인원 : <span id="bagcnt-5431">516</span> / 
									수강인원 : <span id="listencnt-5431">176</span> / 
									제한인원 : <span id="takecnt-5431">176</span>
								</div>
								
								
							</div>
							
							<div class="btnarea">
								<span class="applied" style="display:none" id="applied5431">
									신청완료
								</span>
								<button id="req-5431" class="classbtn reqbtn sorthide" aria-label="5431 영화제작에대해알고싶은모든것(KCU) 수강신청하기" data-coursecls="5431" data-curinum="KML02122" style="display: block;">
									수강신청
								</button>
								<button class="classbtn delbtn sorthide" data-coursecls="5431" data-curinum="KML02122" aria-label="5431 영화제작에대해알고싶은모든것(KCU) 미리담기 삭제하기" style="display: block;">
									미리담기 삭제
								</button>
								
								<span class="sortshow" style="display: none;">≡</span>
							</div>
							
						</div>
						
						<div class="coursedata filter" role="listitem" id="coursedataid-0084" data-addtime="814104427" data-coursecls="0084">
				
							<div class="infoarea">
								<div class="course-title" style="font-weight: bold;">
									<span class="fullclass" id="fullsign-0084">
										[ 인원초과 ]
									</span>
									<span>0084 영어회화2</span>
									
									<span>
										(<span>L3</span>)
									</span>
								</div>
								
								<div class="course-basicinfo">
									<span>
										
										전학년 /
										교필109 /
										학점 : 1 / 
										담당교수 : 데본
									</span>
									
								</div>
								
								<div class="course-schedule">
									
									<span>
										<span>월12:00~12:50(Y9230), 수12:00~12:50(Y9230)</span>
									</span>
								</div>
								
								
								
								<div class="course-count">
									담은인원 : <span id="bagcnt-0084">48</span> / 
									수강인원 : <span id="listencnt-0084">11</span> / 
									제한인원 : <span id="takecnt-0084">11</span>
								</div>
								
								
							</div>
							
							<div class="btnarea">
								<span class="applied" style="display:none" id="applied0084">
									신청완료
								</span>
								<button id="req-0084" class="classbtn reqbtn sorthide" aria-label="0084 영어회화2 수강신청하기" data-coursecls="0084" data-curinum="KMA02109" style="display: block;">
									수강신청
								</button>
								<button class="classbtn delbtn sorthide" data-coursecls="0084" data-curinum="KMA02109" aria-label="0084 영어회화2 미리담기 삭제하기" style="display: block;">
									미리담기 삭제
								</button>
								
								<span class="sortshow" style="display: none;">≡</span>
							</div>
							
						</div>
						
						<div class="coursedata filter" role="listitem" id="coursedataid-0710" data-addtime="814104302" data-coursecls="0710">
				
							<div class="infoarea">
								<div class="course-title" style="font-weight: bold;">
									<span class="fullclass" id="fullsign-0710">
										[ 인원초과 ]
									</span>
									<span>0710 알고리즘</span>
									
									
								</div>
								
								<div class="course-basicinfo">
									<span>
										
										3학년 /
										컴공316 /
										학점 : 3 / 
										담당교수 : 조민경
									</span>
									
								</div>
								
								<div class="course-schedule">
									
									<span>
										<span>월09:00~10:50(Y5437), 목09:00~09:50(Y5437)</span>
									</span>
								</div>
								
								
								
								<div class="course-count">
									담은인원 : <span id="bagcnt-0710">53</span> / 
									수강인원 : <span id="listencnt-0710">30</span> / 
									제한인원 : <span id="takecnt-0710">30</span>
								</div>
								
								<div class="course-past" data-grade="D+">
									※ 과거 이수성적 : 2023-2학기 : 알고리즘 D+
								</div>
							</div>
							
							<div class="btnarea">
								<span class="applied" style="display:none" id="applied0710">
									신청완료
								</span>
								<button id="req-0710" class="classbtn reqbtn sorthide" aria-label="0710 알고리즘 수강신청하기" data-coursecls="0710" data-curinum="JEJ02316" style="display: block;">
									수강신청
								</button>
								<button class="classbtn delbtn sorthide" data-coursecls="0710" data-curinum="JEJ02316" aria-label="0710 알고리즘 미리담기 삭제하기" style="display: block;">
									미리담기 삭제
								</button>
								
								<span class="sortshow" style="display: none;">≡</span>
							</div>
							
						</div>
						
						<div class="coursedata filter" role="listitem" id="coursedataid-0762" data-addtime="814100722" data-coursecls="0762">
				
							<div class="infoarea">
								<div class="course-title" style="font-weight: bold;">
									<span style="display:none" class="fullclass" id="fullsign-0762">
										[ 인원초과 ]
									</span>
									<span>0762 산업경영공학개론</span>
									
									
								</div>
								
								<div class="course-basicinfo">
									<span>
										
										1학년 /
										산업213 /
										학점 : 3 / 
										담당교수 : 한민탁
									</span>
									
								</div>
								
								<div class="course-schedule">
									<span>시간 미지정</span>
									
								</div>
								
								<div class="course-remark">
									비고 : <b>아너칼리지및타전공수강,전공자수강X,전공이해기초교과,MJU자율수강제강좌,온라인강의</b>
								</div>
								
								<div class="course-count">
									담은인원 : <span id="bagcnt-0762">6</span> / 
									수강인원 : <span id="listencnt-0762">7</span> / 
									제한인원 : <span id="takecnt-0762">50</span>
								</div>
								
								
							</div>
							
							<div class="btnarea">
								<span class="applied" style="display:none" id="applied0762">
									신청완료
								</span>
								<button id="req-0762" class="classbtn reqbtn sorthide" aria-label="0762 산업경영공학개론 수강신청하기" data-coursecls="0762" data-curinum="JEO01213" style="display: block;">
									수강신청
								</button>
								<button class="classbtn delbtn sorthide" data-coursecls="0762" data-curinum="JEO01213" aria-label="0762 산업경영공학개론 미리담기 삭제하기" style="display: block;">
									미리담기 삭제
								</button>
								
								<span class="sortshow" style="display: none;">≡</span>
							</div>
							
						</div>
						
						<div class="coursedata filter" role="listitem" id="coursedataid-0238" data-addtime="814102933" data-coursecls="0238">
				
							<div class="infoarea">
								<div class="course-title" style="font-weight: bold;">
									<span class="fullclass" id="fullsign-0238">
										[ 인원초과 ]
									</span>
									<span>0238 MJ사회봉사</span>
									
									
								</div>
								
								<div class="course-basicinfo">
									<span>
										
										전학년 /
										기사167 /
										학점 : 3 / 
										담당교수 : 유우연
									</span>
									
								</div>
								
								<div class="course-schedule">
									
									<span>
										<span>월17:00~19:50(Y501)</span>
									</span>
								</div>
								
								<div class="course-remark">
									비고 : <b>N/P과목</b>
								</div>
								
								<div class="course-count">
									담은인원 : <span id="bagcnt-0238">56</span> / 
									수강인원 : <span id="listencnt-0238">17</span> / 
									제한인원 : <span id="takecnt-0238">17</span>
								</div>
								
								
							</div>
							
							<div class="btnarea">
								<span class="applied" style="display:none" id="applied0238">
									신청완료
								</span>
								<button id="req-0238" class="classbtn reqbtn sorthide" aria-label="0238 MJ사회봉사 수강신청하기" data-coursecls="0238" data-curinum="KMD02167" style="display: block;">
									수강신청
								</button>
								<button class="classbtn delbtn sorthide" data-coursecls="0238" data-curinum="KMD02167" aria-label="0238 MJ사회봉사 미리담기 삭제하기" style="display: block;">
									미리담기 삭제
								</button>
								
								<span class="sortshow" style="display: none;">≡</span>
							</div>
							
						</div>
					</div>
```

---

### 6. 기술적 고려사항
-   **CSRF 토큰 및 세션:** 사용자의 세션이 만료되거나 로그아웃되면 백그라운드 `fetch` 요청이 실패할 수 있다. 이 경우, 알람을 중지하고 사용자에게 재로그인 및 페이지 새로고침이 필요함을 알리는 것을 고려할 수 있다 (고급 기능).
-   **요청 주기:** 서버에 과도한 부하를 주지 않기 위해 `fetch` 요청 간격을 너무 짧지 않게 설정해야 한다 (예: 3~10초).
-   **웹사이트 구조 변경:** 명지대학교 수강신청 사이트의 HTML 구조(클래스 이름, ID 등)가 변경되면 확장 프로그램이 오작동할 수 있다. 이는 유지보수 시 대응해야 할 부분이다.
-   **오류 처리:** `fetch` 실패, 네트워크 오류 등에 대한 예외 처리를 구현하여 안정성을 높여야 한다.

