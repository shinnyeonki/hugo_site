---
title: 2024-02-26
resource-path: 07.Daliy Note/2024-02-26.md
---
`sudo -Es`와 `sudo su - root`는 모두 superuser 권한으로 셸을 시작하는 명령어지만, 몇 가지 중요한 차이점이 있습니다.
1. **환경 변수 보존**: `sudo -Es`는 `-E` 옵션을 통해 원래 사용자의 환경 변수를 superuser 셸로 가져갑니다. 반면, `sudo su - root`는 `-` 옵션을 통해 새로운 로그인 셸을 시작하며, 이 과정에서 대부분의 환경 변수가 초기화됩니다. 즉, `sudo su - root`를 실행하면 원래 사용자의 환경 변수를 유지하지 않습니다.
2. 2. **로그인 셸 vs 비로그인 셸**: `sudo -Es`는 비로그인 셸을 시작합니다. 비로그인 셸은 사용자의 홈 디렉토리로 이동하지 않고, 로그인 셸 스크립트(`/etc/profile`, `~/.profile` 등)를 실행하지 않습니다. 반면, `sudo su - root`는 로그인 셸을 시작합니다. 로그인 셸은 사용자의 홈 디렉토리로 이동하고, 로그인 셸 스크립트를 실행합니다.
3. 3. **명령어 길이**: `sudo -Es`는 더 짧고 간결합니다. `sudo su - root`는 좀 더 길고, `root` 사용자로 로그인하는 것을 명시적으로 나타냅니다. 따라서 어떤 명령어를 사용할지는 원하는 동작에 따라 결정하면 됩니다. 일반적으로는 환경 변수를 유지하고 싶다면 `sudo -Es`를, 새로운 환경에서 셸을 시작하고 싶다면 `sudo su - root`를 사용하면 됩니다.

- .a : 리눅스 / 정적 라이브러리
- .so : 리눅스 / 동적 라이브러리
- .lib : 윈도우 / 정적 라이브러리
- .dll : 윈도우 / 동적 라이브러리


의존라이브러리 확인
`ldd`, `readelf -d` 또는 `objdump -p`
`readelf -d`와 `objdump -p` 명령어는 ELF(Executable and Linkable Format) 파일의 정보를 확인하는 데 사용됩니다. 이 두 명령어는 각각 다음과 같이 사용됩니다:
1. **readelf -d**: `readelf`는 ELF 파일의 내부 정보를 읽는 데 사용되는 도구입니다. `-d` 또는 `--dynamic` 옵션은 동적 섹션(즉, 공유 라이브러리 의존성 등의 동적 링크 정보가 저장된 섹션)의 정보를 보여줍니다. 이 명령어는 다음과 같이 사용할 수 있습니다: ``` readelf -d /path/to/your/file ``` 이 명령어를 실행하면 해당 파일이 의존하는 라이브러리들의 목록과, 그 라이브러리들이 시스템에서 어디에서 찾아질 수 있는지에 대한 정보를 출력합니다.
2. **objdump -p**: `objdump`는 바이너리 파일의 내용을 보여주는 도구입니다. `-p` 또는 `--private-headers` 옵션은 개인 헤더의 정보를 보여줍니다. 이 명령어는 다음과 같이 사용할 수 있습니다: ``` objdump -p /path/to/your/file ``` 이 명령어를 실행하면 해당 파일의 개인 헤더 정보를 출력합니다. 개인 헤더 정보에는 섹션 헤더, 프로그램 헤더, 동적 섹션 등의 정보가 포함될 수 있습니다. 이 두 도구는 프로그램의 디버깅이나 바이너리 파일 분석, 소프트웨어 보안 등의 분야에서 사용됩니다.

[리눅스 가상 파일 시스템](https://hyeyoo.com/84)
리눅스에서는 다양한 종류의 특별한 가상 파일 시스템을 사용합니다. 이들은 실제 파일이나 디렉토리를 포함하지 않지만, 파일 시스템 인터페이스를 통해 특정한 정보를 제공합니다. 주요 가상 파일 시스템에는 다음과 같은 것들이 있습니다:
1. proc: 이 파일 시스템은 "/proc" 디렉토리에 마운트되며, 실행 중인 프로세스와 시스템 정보에 대한 인터페이스를 제공합니다.
2. sysfs: 이 파일 시스템은 "/sys" 디렉토리에 마운트되며, 장치와 드라이버 정보에 대한 인터페이스를 제공합니다.
3. devtmpfs: 이 파일 시스템은 "/dev" 디렉토리에 마운트되며, 시스템의 장치 노드를 관리합니다.
4. tmpfs: 이 파일 시스템은 메모리를 사용하여 파일을 저장합니다. "/tmp" 디렉토리에 마운트되는 경우가 많으며, 재부팅시 모든 데이터가 사라집니다.
5. cgroup: 이 파일 시스템은 컨테이너 같은 프로세스 그룹의 리소스 사용을 제한하고 모니터링하는 기능을 제공합니다.
6. debugfs: 이 파일 시스템은 디버깅 정보를 제공하는데 사용됩니다.
7. securityfs, configfs, efivarfs 등: 이들은 각각 보안 설정, 커널 설정, UEFI 설정 등에 대한 인터페이스를 제공합니다.