---
title: 서블릿 객체들
aliases: 
tags:
  - spring
  - young_han
created: 2025-03-04T20:09:00+09:00
modified: 2025-08-19T22:14:18+09:00

---

### 1. **각 객체의 정의 및 내부 구조**
#### **1.1 page (PageContext)** jsp 의존적
- **범위**: 현재 JSP 페이지 내에서만 유효합니다.
- **수명**: 페이지가 렌더링되는 동안에만 유지됩니다.
- **내부 구조**:
  - `PageContext` 클래스에 의해 구현되며, 페이지 단위로 속성을 저장합니다.
  - 내부적으로 **`Map<String, Object>`** 를 사용하지만, `getAttributeNames()` 메서드를 지원하지 않습니다.
  - JSP의 다른 기본 객체(request, session, application)에 대한 접근을 제공합니다.
- **JSP 의존성**: **O** (JSP 전용 객체이며, Servlet에서는 사용 불가능합니다.)

#### **1.2 request (HttpServletRequest)**
- **범위**: 같은 요청(request) 내에서 유효합니다 (예: 클라이언트에서 서버로의 한 번의 HTTP 요청).
- **수명**: 요청이 처리되는 동안에만 유지됩니다.
- **내부 구조**:
  - `HttpServletRequest`의 `setAttribute()`/`getAttribute()` 메서드를 사용합니다.
  - 컨테이너(예: Tomcat)는 내부적으로 **`Map<String, Object>`** 구조로 속성을 관리합니다.
- **JSP 의존성**: **X** (Servlet에서도 사용 가능하며, JSP와 독립적입니다.)

#### **1.3 session (HttpSession)**
- **범위**: 동일한 사용자의 세션(Session) 내에서 유효합니다.
- **수명**: 세션이 종료될 때까지 유지됩니다 (기본적으로 30분).
- **내부 구조**:
  - `HttpSession` 객체에 속성을 저장하며, 컨테이너는 **`ConcurrentHashMap<String, Object>`** 를 사용하여 동시성 문제를 해결합니다.
  - 세션 ID를 기반으로 사용자를 식별합니다.
- **JSP 의존성**: **X** (Servlet에서도 사용 가능하며, JSP와 독립적입니다.)

#### **1.4 application (ServletContext)**
- **범위**: 애플리케이션 전체(모든 사용자 및 세션)에서 유효합니다.
- **수명**: 애플리케이션이 종료될 때까지 유지됩니다.
- **내부 구조**:
  - `ServletContext` 객체에 속성을 저장하며, 컨테이너는 **`ConcurrentHashMap<String, Object>`** 를 사용합니다.
  - 모든 사용자와 세션에서 공유되는 전역 데이터를 관리합니다.
- **JSP 의존성**: **X** (Servlet에서도 사용 가능하며, JSP와 독립적입니다.)

---

### 2. **속성 처리 메서드 비교**
| 메서드                   | page (PageContext) | request (HttpServletRequest) | session (HttpSession) | application (ServletContext) |
| --------------------- | ------------------ | ---------------------------- | --------------------- | ---------------------------- |
| `setAttribute()`      | O                  | O                            | O                     | O                            |
| `getAttribute()`      | O                  | O                            | O                     | O                            |
| `removeAttribute()`   | O                  | O                            | O                     | O                            |
| `getAttributeNames()` | X                  | O                            | O                     | O                            |

- **page 객체**는 `getAttributeNames()`를 지원하지 않습니다.
- **request, session, application**은 `getAttributeNames()`로 속성 목록을 조회할 수 있습니다.

---

### 3. **JSP 의존성 분석**
- **page 객체**:  
  JSP 전용 객체이며, `PageContext` 클래스에 종속적입니다. Servlet에서는 사용할 수 없습니다.
- **request, session, application 객체**:  
  Servlet API(`HttpServletRequest`, `HttpSession`, `ServletContext`)에 정의된 표준 객체입니다. 따라서 **JSP와 독립적**이며, Servlet이나 다른 웹 프레임워크에서 동일하게 사용됩니다.

---

### 4. **사용 예시**
#### 1. **request 범위**

```jsp
<!-- JSP 페이지에서 request 속성 설정 -->
<%
  request.setAttribute("userName", "Alice");
%>
```

```java
// Servlet에서 request 속성 사용
protected void doGet(HttpServletRequest request, HttpServletResponse response) {
  String name = (String) request.getAttribute("userName");
}
```

#### 2. **session 범위**

```jsp
<!-- JSP에서 세션 속성 설정 -->
<%
  session.setAttribute("userRole", "ADMIN");
%>
```

#### 3. **application 범위**

```jsp
<!-- JSP에서 애플리케이션 속성 설정 -->
<%
  application.setAttribute("appVersion", "1.0.0");
%>
```

---

### 5. **중요 고려 사항**
1. **범위 선택**:  
   - 임시 데이터(한 번의 요청) → **request**  
   - 사용자별 데이터(로그인 정보) → **session**  
   - 전역 데이터(설정 정보) → **application**  
   - 페이지 내 데이터 → **page**

2. **메모리 관리**:  
   - **session**과 **application** 범위의 속성은 명시적으로 제거하지 않으면 메모리 누수가 발생할 수 있습니다.

3. **동시성 문제**:  
   - **session**과 **application**은 `ConcurrentHashMap`을 사용하여 스레드 안전성을 보장합니다.

---

### 6. **요약**
- **JSP 의존성**:  
  `page` 객체만 JSP에 종속적이며, 나머지(`request`, `session`, `application`)는 Servlet API 표준입니다.
- **내부 구조**:  
  모든 객체는 **Map 기반**으로 속성을 관리하며, 범위에 따라 저장 위치와 수명이 결정됩니다.
- **사용 목적**:  
  데이터의 공유 범위에 따라 적절한 객체를 선택하여 사용합니다.